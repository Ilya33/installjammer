1.2.13 (July 7th, 2009)

This release contains minor bug fixes and enhancements.


Minor Bug Fixes
Fix a bug in the Ask Yes or No condition that would cause an error in silent mode.
Fixed a bug where clicking in the virtual text table could sometimes jump to another part of the table if another field was already being edited.
Made some general bug fixes and behavior tweaks to the virtual text table.
Fixed a bug where a modal dialog (like the conditions editor) could end up outside of the viewing area when switching from larger to smaller monitors.
Fixed a bug in the Create Windows Service action where an error would occur when installing a Shared Process service.
Fixed a bug where the .installjammer directory was being created on startup when it didn't need to be.  This would cause some command-line builds to fail when built by a user who doesn't have a home directory.  The directory is now created only when the builder goes to save its preference settings.
Fixed a bug in Message Box and Message Panel that would allow them to execute in a console or silent install and then throw an error.  These actions will no longer execute in a console or silent install.
Fixed a bug where InstallJammer would attempt to load any *.msg file sitting next to the project file when loading the project.
Fixed a bug where using the keyboard to navigate setup types would not change the description as one was selected.
Fixed a bug where the SetActiveSetupType API call would not change the active setup type selected on the screen if the Setup Type pane was visible.
Fixed a bug that would cause shortcuts not to work on Asian versions of Windows.
Fixed a bug where failing to load a project would corrupt the builder and require it to be restarted to load another project.
Fixed a bug where the uninstaller would remove ALL environment variables added by an installer on UNIX, even the ones marked not to be removed.
Fixed a bug where the uninstaller would not properly default to the language chosen during installation for some of the available languages.
Changed the way the uninstall handles the deletion of the uninstaller itself.  The uninstaller now gets renamed into the temp directory instead of launching a copy of itself.
Replace the restart of the gnome-panel.  Some versions of the panel still require a restart to pick up menu changes, and until I can determine what versions need it and what don't, we'll err on the side of just doing it.
Fixed a bug where zip and tar archives weren't picking up any files during a build.  Also cleaned up when and how a refresh of the file groups is done so that it isn't done redundantly.
Fixed a bug where the uninstall would default to the system language when it should keep the language used during installation.
Fixed a bug where newer Gnome terminals would ignore more than one command when executing an external action in a console.  Any command executed in a console is now stored in a file and then executed as a script.
Fixed a bug from beta 1 where command-line arguments in the builder were being ignored when testing on Windows.
Fixed a bug where several APIs would cause an error if executed in silent mode.  These APIs are now restricted to GUI-only code.
Fixed a bug where recursive directory links could cause an infinite loop in the builder.
Fixed a bug where opening an explorer windows on UNIX platforms could fail.
Fixed a bug where the /installkitvfs directory would show up in choose file and directory dialogs.
Fixed a bug where the Select Destination pane would not properly substitute the destination label when updating the pane.
Installing UNIX shortcuts as root will not install them for all users and not for the root user.  This does not count for desktop icons, only for program folders and shortcuts.
Removed the code to restart the gnome-panel on Gnome desktops.  It seems like the panel will automatically pick up the changes on its own now.
Fixed a bug where the default system language was not getting picked up properly on some Windows systems.
Fixed a bug with the choose directory dialog on Vista where it was still looking for My Documents even though Vista just calls it Documents.
Fixed a bug where trying to launch explorer in a directory on Vista would just open the explorer to the My Computer screen.
Fixed a bug where tar and zip archives did not auto refresh files when the Refresh File List Before Building preference was turned on.
Fixed a bug in the Create File Link action where it would fail on UNIX systems if the link target did not already exist.  This will remain a requirement for Windows platforms however.
Fixed a bug in the Execute External Program action where the Progressive Output Widget could not be found when the action was nested in an action group.
Cleaned up all of the message catalogs to remove double spaces when displaying text in some panes.  These extra spaces were part of the actual message catalog and not a bug in the installers.
Fixed a bug where some actions (like WriteTextToFile) that log files would error out when running inside of an uninstaller.
Fixed a bug where editing some text fields would not cause the project to become modified.
Fixed a bug where setting Windows file attributes on a non-Windows platform would then cause an error during installation.
Fixed a bug in the Platform Condition where not all platforms were available.
Fixed a bug in the Execute External Program action where watching for output to the Status virtual text could cause an infinite loop error.
Fixed a bug where Uninstall Leftover Files was failing on console installs.
Fixed a bug where actions after a Move Forward or Move to Pane action would still be executed when they should be skipped.
Fixed a bug where icons and menus were not being properly removed during uninstall on the Linux platform.
Fixed a bug that broke solid compression builds on all platforms.
Fixed a bug where using an install password would fail due to a missing function.
Fixed a bug when running multiple installers and closing a child installer would delete the temporary directory out from under the parent.
Fixed a bug in the Locate Java Runtime action where it would attempt to prompt the user with a dialog in a console install.  For now, there is no prompt for the user in a console install, it is simply ignored.
Fixed a bug where the Modify Widget action could end up clearing a text widget even if no text was specified.
Fixed a bug where a file group's size was not accurate when following
Fixed a bug where tar and zip archives with no files would error with a big, ugly error message.  It's a little more graceful now.
Fixed a bug where upgrade installers were not being included as part of the original install during uninstall because of a mismatch in the registry info.
Fixed several bugs related to installers running under WINE.  Installers and uninstallers should now run successfully under WINE.
Fixed a bug in the Reboot or Shutdown System action for UNIX systems where no time was specified.
Fixed a bug in uninstall on HP-UX.  All platforms now perform the same uninstall that was previously reserved for Windows.  Which is to say that the uninstaller is copied off to a temporary location before executing it so that the original uninstaller can be deleted in place.
Fixed a bug that would affect launching installers that launch other installers where the child installer would delete the temporary directory out from under the parent, leaving the parent to error out.
Fixed a bug where creating desktop shortcuts on Linux Gnome desktops would fail if the desktop directory was not called Desktop, as it is on non-English systems.
Fixed a bug where the uninstall on Windows would leave a hanging process after exiting.  This would cause problems when the uninstaller was called from some other program.
Fixed a bug in message dialogs where the X button on the window would do nothing.
Fixed a bug in message dialogs where the initial focus button was not correct.
Fixed a bug where editing a virtual text string from the editor would not save when the editor closed.
Fixed a bug where the Launch Web Browser action would not work properly on some versions of Windows.
Fixed a bug where passing /version to an uninstaller would cause an error.
Fixed a bug where the UNIX permissions were being flipped in the builder.

Minor Enhancements
Cleaned up the --help output a little bit for a more UNIX-y style.
Made some changes to the progress output during a console install (thanks to C. W. for the tips).  It should be a lot cleaner now and look a little nicer.
Added Lithuanian translations (thanks to Jonas Jasas!).
Moved the debug log in the builder to a --debug-log command-line option that is disabled by default.  We only need the debugging when something is broken in the builder, so we don't need to do it on every startup.
Added the ability to span multiple discs using build separate archives.
Added a debug option for uninstallers for new projects.
Fixed a bug where Vista would inaccurately report that a directory was writable when it wasn't.
Added new Ignore Files and Ignore Directories project preferences.  These two properties allow a project to specify patterns of files and directories to ignore when searching the filesystem.
Added a new Follow Directory Links property to file groups.  This matches the Follow File Links property but for directories instead of files.  The default is Yes for backward compatibility.
Added a new VirtualTextAPI API call.
Added a new LanguageAPI API call.
Added a new Require Administrator option to the Windows platform.
Added a new Use Uncompressed Binaries option to the Windows platform.
Added a new RequireAdministratorText virtual text to the English message catalog.  This message will appear when the user doesn't have the required administrator privileges.
Added a new Installkit property to the Install Wrapped Script action.
Added a new ConfigAPI API call to configure internal settings.
Fixed a bug where the system language might not get used even when the message catalog is compiled into the installer.
Added a new Default To System Language install feature to specify that the default language on the installing system should be used if it exists within the installer's message catalog.  Otherwise, the Default Language will be used.
Added new permissions to the File Permission Condition.
Added new <%ErrorFiles%> and <%ErrorDirs%> virtual text that are set during uninstallation when it fails to remove files or directories.
In most properties, widgets can now be specified as <pane>.<widget> to specify exactly which pane and widget is meant.
Added a new Install UNIX Program Folder action to allow creating program folders with more options like icons.
Added new "matches" and "does not match" operators to the Platform Condition.
Added the ability to enable response files for installers.  Response files let a user save their responses from an install and replay them in another install later.
Added a new Enable Response Files install feature.  This will be true by default in projects using version 1.2.13 and higher.
Added a new Add Response File Info action to enable adding virtual text to a response file when they are enabled.
Made the SelectedComponents virtual text writable.  Whenever this virtual text is changed, it will overwrite the current set of selected components.
Added a new ComponentAPI API call.
Added a new CommandLineAPI API call.
Added a new ResponseFileAPI API call.
Added a new Disable / Revert Wow64 Redirection and action to disable Windows 64 bit filesystem redirection.
The Locate Java Runtime action now includes a full version number in the <%JavaAvailableVersions%> virtual text.
Added a new <%JavaVersionMinor%> that is set by the Locate Java Runtime action.
The Locate Java Runtime action now substitutes virtual text properly in the search path.  Also added some debugging to see where the action is looking for Java on the system.
The Locate Java Runtime action now handles Java versions properly, so you can use a version like 1.6.0_10 as a minimum or maximum.  Previously, the version after the _ was invalid.
Added a new Vendor ID to the UNIX shortcut actions to allow for shortcuts to be grouped together under a particular vendor.  This makes it easy for multiple installers to create shortcuts in the same program folders.
The Focus on Widget action should now work for built-in widgets as well, not just ones added with an Add Widget action.
Added a new Save Files property to file groups and directories to allow for finer-grained access to the Save Only Toplevel Directories project preference.
Added a new Application ID property to the Get Previous Install Info action.
Added a new ReadInstallInfo API.
Added a new AddInstallInfo API.
Added a new PreviousInstallIDs virtual text that is set after reading previous install info.
Added a new --build-log-file command-line option to the install builder.
Doing a full build (not quick) now automatically jumps to the build screen before the build begins to show the log.
The Modify Widget action should now properly handle textboxes when modifying the text property.
Added a new DestroyWidget API call.
The Destroy Widget action can now take a list of widgets separated by ;.
InstallDirSuffix can now contain more than a single directory, and the whole string will be joined with the InstallDir anytime it is changed.
Added a new Selectable property to Components that, if false, will turn a component in the component tree into a header with no check or radio button.
Added NONE as an option for buttons on a pane.
Made the text in the language selection dialog part of the English message catalog instead of a hard-coded value.
