2007-02-21  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.1.2 RELEASED ***


2007-02-16  Damon Courtney <damon@installjammer.com>
* lib/Actions/FileActions/ChangeFilePermissions.action
    Fixed a bug where the Change File Permissions actions would set the
    wrong permissions when using a sticky bit.


2007-02-14  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.1.1 RELEASED ***


2007-02-14  Damon Courtney <damon@installjammer.com>
* lib/build.tcl
* lib/dobuild.tcl
    Another fix to command-line builds on Linux.

* lib/build.tcl
    Make sure the installkit is writable before packaging files.
    [Req #1658482]


2007-02-12  Damon Courtney <damon@installjammer.com>
* lib/utils.tcl
    Allow multiple file selection when adding files to a File Group.
    [Bug #1657047]

* lib/build.tcl
    Fixed a bug where command-line builds did not complete when storing
    solid archives. [Bug #1653941]

    Output errors for command-line builds even in quiet mode.

* installjammer
* lib/dobuild.tcl
    Fixed a bug where command-line builds from UNIX could not specify a
    relative project file name.

2007-02-10  Damon Courtney <damon@installjammer.com>
* lib/Actions/GeneralActions/SetVirualText.action
    Fixed a bug where the Substitute Value property of the Set Virtual
    Text action was being silently ignored. [Bug #1658071]


2007-02-07  Damon Courtney <damon@installjammer.com>
* lib/cmdline.tcl
    Fixed a bug where Windows command-line builds would fail because they
    were requiring the wrong version of BWidgets. [Bug #1653713]


2007-02-06  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.1 RELEASED ***


2007-02-05  Damon Courtney <damon@installjammer.com>
* lib/common.tcl
    *** POTENTIAL INCOMPATIBILITY ***
    Changed the search order of virtual text substitution to put
    language-specific text AFTER non-specific.  The language-specific
    text is actually less important than the non-specific because the
    non-specific is used in almost every virtual text variable throughout
    an install.

* lib/Actions/FileActions/ReadFileIntoVirtualText.action
    Added a Trim String property to the Read File Into Virtual Text action
    so that the data read from the file can be trimmed of excess whitespace.

* lib/Actions/FileActions/WriteTextToFile.action
    *** POTENTIAL INCOMPATIBILITY ***
    Changed the way Files are handled in the Write Text to File action.
    It doesn't make much sense for this action to accept a list of patterns.
    I can't imagine too many cases where you would this action in that
    manner.  Instead, the action now accepts an explicit list of files
    (not patterns) to write to.

    Added a new Add to Uninstall property to the Write Text to File action.

    Added a new Append Newline property to specify that the text to be
    written out should have a newline appended at the end.  This is the
    current behavior, so this value is defaulted to Yes.


2007-02-03  Damon Courtney <damon@installjammer.com>

* lib/convert.tcl
    Added a new conversion for the next release that will scan through
    the install for License panes that have incorrect conditions and
    fix them.  There were several versions of InstallJammer that had
    buggy License panes.  This conversion will fix any that remain.

    Removed some of the older conversion routines for 1.0a1.

* lib/file.tcl
    Made the checkbuttons on the build tab match the active status of
    the platform on project loading.


2007-01-31  Damon Courtney <damon@installjammer.com>

* Themes/Modern_Wizard/Uninstall/Uninstall.pane
    Removed the message box and check for removing leftover files.
    Users will usually click this box to remove the rest of the
    components when they don't actually know what they're doing.
    It's better to leave a few directories lying around than end
    up deleting something important.

* lib/file.tcl
    Fixed a bug where creating a new project can fail and error
    while trying to save project preferences if the InstallJammer
    home directory does not already exist.


2007-01-30  Damon Courtney <damon@installjammer.com>

* lib/build.tcl
    Fixed a bug in command-line builds that would result in an error.

* lib/common.tcl
    Fixed a bug where a --version option on the command-line would error
    on Windows.

* lib/file.tcl
* lib/common.tcl
* lib/convert.tcl
    Building a project from the command-line that has not been converted
    to the new project format will result in an error telling the user they
    need to upgrade the project before building.


2007-01-29  Damon Courtney <damon@installjammer.com>

* installjammer
    Fixed a bug where the #!/bin/sh line got moved down in the installjammer
    script, and this causes it not to launch.


2007-01-24  Damon Courtney <damon@installjammer.com>

* lib/Actions/GeneralActions/LaunchFile.action
    Added an Arguments property to the Launch File action to pass arguments
    to the command-line when executing a file.


2007-01-23  Damon Courtney <damon@installjammer.com>

* lib/main.tcl
    Moved the debug.log into the local InstallJammer home directory
    for each user instead of the local install directory.  When running
    on a multi-user UNIX system, the debug.log sometimes cannot be written.

* lib/Conditions/FilePermissionCondition.condition
    Fixed a bug that would cause InstallJammer to say that C:/ is not
    writable during installation when it actually is.

* lib/installapi.tcl
    Fixed a bug where the Choose Directory dialog would default to the
    wrong directory and would blank out when the user hit cancel.

* Themes/Modern_Wizard/Install/License.pane
    Fixed a bug where the License pane was not disabling the Yes button
    on display.  The user could then proceed without ever agreeing to the
    license.

* lib/header.tcl
    Fixed a bug where typing into an entry would sometimes cause the first
    character typed to convert to a 0 or 1.  This was a bug in the
    auto-boolean code handling.

* lib/Actions/GeneralActions/SetVirtualText.action
    Added a new "Auto Update" property to the Set Virtual Text action.  This
    just exposes the underlying function of what the API can already do.
    Setting a virtual text to Auto Update means that the screen should
    automatically be updated anytime the value changes.


2007-01-23  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.1b2 RELEASED ***


2007-01-22  Damon Courtney <damon@installjammer.com>

* lib/install.tcl
    Fixed a bug where an install would fail if the Default Setup Type
    did not exist in the installer.  InstallJammer will now pick the
    first Setup Type in the list if the default does not exist.

* Binaries/Windows/craplzma0.1/*
    Replaced the LZMA binaries on Windows with the proper ones.  This fixes
    errors that occur in installers that are compiled with LZMA on Windows.

* lib/common.tcl
    Fixed a bug where InstallJammer would fail if it could not create its
    registry directory in Program Files on Windows.  If Program Files is
    not writable, InstallJammer will attempt to create its registry in
    the COMMON_APPDATA directory instead.


2007-01-17  Damon Courtney <damon@installjammer.com>

* lib/main.tcl
    Turned off auto-update check by default until it's ready.

* lib/help.tcl
    Fixed a typo that causes a startup failure when the auto-update fails
    for some reason.

* lib/gui-common.tcl
    Fixed a bug where the help documentation for command line options was
    pointing to a non-existent page.

* lib/main.tcl
* lib/install.tcl
    Fixed a bug where the Default Language was not being written out to
    the installer.  This meant that even if a Default Language was specified,
    it was being ignored by the installer on startup.

* lib/builderapi.tcl
    Fixed a typo in ::BuilderAPI::GetAction.


2007-01-17  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.1b1 RELEASED ***


2006-10-30  Damon Courtney <damon@installjammer.com>

* lib/file.tcl
    Fixed a bug where inactive conditions were still being saved to the
    install.

* lib/common.tcl
    Fixed a bug where inactive conditions would still be executed.

* lib/Actions/FileActions/CreateFileLink.action
    Fixed a typo on Create File Link that would cause it to fail.

* lib/Actions/InstallActions/InstallSelectedFiles.action
    Fixed a bug where inactive file groups would still be installed.

    Added some debug output when skipping a component, file group or file
    due to inactivity.


2006-10-26  Damon Courtney <damon@installjammer.com>

* lib/file.tcl
* lib/common.tcl
    Fixed a bug where conditions that are marked inactive are still
    included in the installer and still executed during installation.
    [Bug #1585469]

* lib/Actions/InstallActions/InstallSelectedFiles.action
    Fixed a bug where inactive File Groups were still being installed.

    Added some debugging output when a Component, File Group or File is
    skipped.

* lib/Actions/WizardActions/AddWidget.action
    Fixed a bug that would cause entry widgets in the Add Widget action
    to lose the connection to their virtual text.


2006-10-25  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.0.4 RELEASED ***


2006-10-25  Damon Courtney <damon@installjammer.com>

* installjammer
    Updated the installjammer startup script to be able to handle
    64 bit Linux versions that report a different mach.

* Binaries/Windows/Wintcl/wintcl.tcl
    Strip any extra \'s off the front and back of a registry key
    before attempting to fetch it from the registry.

* lib/msgs/languages.txt
    Added Brazilian Portugese translations. (Thanks to Alan Carvalho de Assis!)

* lib/Actions/GeneralActions/LogDebugMessage.action
    Added new Log Debug Message action for logging messages to
    the console and debug log when running in debug mode.

* lib/Actions/GeneralActions/ModifyObject.action
    Added new Modify Object action.  Currently this can only be
    used to activate or deactivate an object, but this will be
    enhanced more in the future.

* lib/Actions/GeneralActions/LaunchWebBrowser.action
    Launch Web Browser now attempts to use the desktop environment
    method of launching a URL on KDE and Gnome.  If these fail, or
    if we're in a different desktop environment, we will attempt to
    find a browser based on environment and known browsers.

* lib/Actions/InstallActions/InstallSelectedFiles.action
    Report an error if the current setup type could not be found in
    our list of setup types.

    Exclude files that are inactive when building the list of files
    to install.  This can be used in conjunction with the new
    Modify Object action to disable certain files programmatically
    during installation.

* lib/Actions/InstallActions/InstallWindowsShortcut.action
    Added new Window State property to Install Windows Shortcut
    to specify the initial window state for the new shortcut.

* lib/Actions/InstallActions/InstallUninstaller.action
    Don't attempt to save aliases out with the uninstaller.  Aliases
    are dynamically built when the objects are created.

* lib/Actions/InstallActions/UnpackStoredFile.action
    Added new Add to Uninstall property to Unpack Stored File action
    to specify that the file should not be added to the uninstall.

* lib/Actions/SystemActions
    Added new System Actions action category.

* lib/Actions/SystemActions/AddDirectoryToPath.action
    Added new Add Directory to Path action.  Currently Windows-only.

* lib/Actions/SystemActions/RemoveDirectoryFromPath.action
    Added new Remove Directory from Path action.  Currently Windows-only.

* lib/Actions/UninstallActions/UninstallSelectedFiles.action
    Check to see if the directory we're about to delete matches our
    <%Company%>.  If so, we won't attempt to delete it if it's not
    already empty.  Putting a Company directory in the path is a common
    thing on Windows, and we don't want to delete the whole directory
    if it's not empty, even if we're the ones who created it.

* lib/Actions/WindowsRegistryActions/AddWindowsRegistryKey.action
    Added new Add to Uninstall property to Add Windows Registry Key
    action to specify that a key should not be added to the uninstall.

* lib/Actions/WindowsRegistryActions/AddWindowsUninstallEntry.action
    Fixed a bug where installing the Windows uninstall registry entry
    could fail if we don't have permission to write to HKEY_LOCAL_MACHINE.
    If it fails, we'll try and write to the HKEY_CURRENT_USER uninstall
    registry instead. [Bug #1578278]

* lib/Actions/WizardActions/AddPaneToOrder.action
    Added new Add Pane to Order action.  This action will add a given
    pane to the back order of the wizard.

* lib/Actions/WizardActions/MoveToPane.action
    The Move to Pane action now adds the new pane to the back order of
    the wizard so that if the user moves back, the order of the panes
    is exactly as it was when they went forward.

* lib/Actions/WizardActions/RemovePaneFromOrder.action
    Added new Remove Pane from Order action.  This action will remove a
    given pane from the back order of the wizard.

* lib/Actions/WizardActions/AddWidget.action
    Added entry box as a possible widget type for the Add Widget
    action.

    Fixed a bug where radiobuttons with a Value that looked like
    a boolean would not work properly.  Value is now checked to see
    if it looks like a boolean and auto-converted before creating
    the radiobutton.

* lib/BWidget/choosedir.tcl
    Fixed a bug where clicking the X on the Choose Directory dialog
    would cause an erorr.

    Fixed several other bugs that make the dialog act more like it's
    supposed to.

* lib/BWidget/messagedlg.tcl
    Added right and left keyboard traversal to buttons in message dialogs.

* lib/common.tcl
* lib/BWidget/wizard.tcl
    Fixed a bug where skipping a pane because its conditions fail would
    cause the actions of the pane being skipped to be executed anyway.
    When skipping a pane, the actions of that pane should be completely
    ignored.

* lib/Conditions/FileExistsCondition.condition
* lib/Conditions/FilePermissionCondition.condition
* lib/Conditions/PlatformCondition.condition
* lib/Conditions/StringEqualCondition.condition
* lib/Conditions/StringIsCondition.condition
* lib/Conditions/StringMatchCondition.condition
    Added debug messages to many conditions to make debugging easier.

* lib/file.tcl
* lib/build.tcl
    Comment properties are now excluded when building unless debugging
    options are included.

* lib/common.tcl
    Added many more options to the debug output.  Debug lines are now
    output with a date/time stamp.  Any debug output that contains
    virtual text will automatically be substituted and output on the
    next line so that someone can tell what the original text was and
    what the actual text was.

    When debugging, any comment on an object will automatically be
    output along with any other debugging for that object.  This means
    that a developer's comments can be easily seen in debug mode.

    Added a lot of debugging output to actions and conditions as they
    execute.

    *** POTENTIAL INCOMPATIBILITY ***
    Fixed a bug where substituting virtual text would bomb when trying
    to substitute text with unmatched []'s.  This was causing failures
    on Japanese machines where the characters were interpreted incorrectly.

    This is potentially incompatible for developers who were previously
    using Tcl commands inside of virtual text.  This DOES NOT apply to
    things like Execute Script that already do the proper substitution,
    but if you were trying to use Tcl commands in the midst of regular
    text, it will no longer work.

    Panes that are marked inactive (like through a Modify Object action)
    are now skipped just as if their conditions had failed.


2006-09-19  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.0.3 RELEASED ***


2006-09-19  Damon Courtney <damon@installjammer.com>

* lib/build.tcl
* lib/common.tcl
* lib/install.tcl
* lib/uninstall.tcl
    Fixed a bug where Silent installs still needed a GUI environment to run.
    Silent installs should run successfully now with no GUI environment
    present.

* lib/msgs/installer/de.msg
* Themes/Classic_Wizard/de.msg
* Themes/Modern_Wizard/de.msg
    Added German translations (thanks to Hans Hellwege!).

* lib/main.tcl
* lib/Actions/InstallActions/InstallWindowsShortcut.action
    Made some minor changes to fix bugs and make InstallJammer work on Win 9x.

* lib/common.tcl
    Fixed a bug where including the TWAPI extension did not actually
    load it into the installer.

    Make sure we don't load TWAPI on a system less than Windows XP.


2006-09-18  Damon Courtney <damon@installjammer.com>

I haven't been tracking my changes very well over the last few weeks, so
all of these changes fall on the same day, but they were coded over the
last month or so.

* lib/Actions/WindowsRegistryActions/AddWindowsFileType.action
    Fixed a typo that would cause an error when the Icon Path was specified.
    [Bug #1533420]

* lib/trees-filegroup.tcl
    Fixed a bug where some user systems don't have the %c time format
    available.  We'll use a long-hand version from now on.  This would cause
    an error on some systems when selecting a file in the File Group tree.
    [Bug #1545596]

    Fixed a bug where just clicking on a File Group name would cause it
    to go into rename edit mode.

* lib/common.tcl
    Fixed a bug where COMMON_* directories don't work on Windows 9x.  From
    now on, we'll try to use the specific counterpart if the COMMON was not
    found. [Bug #1551016]

    Modified the Script Condition to allow Tcl commands and variables
    within the script.

    Fixed a bug where the "Update files with more recent date" check was
    not accurately comparing files whose dates were identical.  In those
    cases, the files would be installed anyway when they should be ignored.

* lib/Actions/WindowsRegistryActions/AddWindowsRegistryKey.action
    Fixed a bug where the Root Key was being ignored for registry keys
    when added via this action. [Bug #1557936]

* lib/utils.tcl
    Fixed a bug where editing the text of certain properties could cause
    an error when trying to save. [Bug #1533009]

* lib/build.tcl
    Store message catalogs in the install during a quick build.

* lib/Actions/InstallActions/InstallWindowsShortcut.action
    Added a check to see if the target of a Windows Shortcut looks like a
    URL to allow URL shortcuts to be created. [Reported by Paul Holmes-Higgin]

* lib/Actions/FileActions
    Added new File Actions group with the following actions:

    Adjust Line Feeds
    Backup File
    Change File Ownership
    Change File Permissions
    Copy File
    Create File Link
    Delete File
    Read File Into Virtual Text
    Rename File
    Replace Text In File
    Write Text To File


2006-08-01  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.0.2 RELEASED ***


2006-08-01  Damon Courtney <damon@installjammer.com>

* Binaries/*/installkit
    Replaced the Windows installkit with a new one that includes a new
    command to create Windows shortcuts and is also 500k smaller thanks
    to Jeremy Collake's PECompact2. [Bug #1532013]

    Replaced the Linux installkit with a new non-threaded build.  This
    means that Linux installs will no longer use threads, but it also
    means that the Linux installs will no longer rely on the pthread
    library on the target system. [Bug #1525293]


2006-07-29  Damon Courtney <damon@installjammer.com>

* lib/Actions/WindowsRegistryActions/AddWindowsFileType.action
    Fixed a bug in Add Windows File Type that caused it to fail
    on an invalid command. [Bug #1530808]


2006-07-28  Damon Courtney <damon@installjammer.com>

* lib/unpack.tcl
    Fixed a bug that would cause non-threaded installs to not install any
    files.


2006-07-26  Damon Courtney <damon@installjammer.com>

* lib/BWidget/wizard.tcl
    If the pane changes while moving forward or backward (like due to
    a Move to Pane action), we want to stop moving because the pane
    has changed. [Bug #1526114]

* lib/file.tcl
* lib/gui-common.tcl
    Record if the main InstallJammer window is maximized on Windows and
    restore that state when restarting InstallJammer.


2006-07-21  Damon Courtney <damon@installjammer.com>

* lib/Actions/ExecuteActions/ExecuteScript.action
    Fixed a bug where Execute Script would not accurately report
    back an error. [Bug #1521867]


2006-07-12  Damon Courtney <damon@installjammer.com>

* lib/trees-filegroup.tcl
    Changed the way multiple selection in the File Group tree works
    when using shift-click.  InstallJammer will now select all of
    the nodes between two shift-click'd nodes regardless of their
    parent. [Reported by Scott Specker]

    Fixed a bug where the Alias property was not reflecting the correct
    value when switching between nodes in the File Group tree. [Bug #1521556]


2006-07-05  Damon Courtney <damon@installjammer.com>

* lib/new.tcl
    Hooked up the Help button on the New Project Wizard to open the
    Step-by-Step tutorial for creating a new project.


2006-07-05  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.0.1 RELEASED ***


2006-07-05  Damon Courtney <damon@installjammer.com>

* lib/BWidget/choosedir.tcl
* lib/BWidget/choosefile.tcl
    The Choose File and Choose Directory dialogs now include hidden
    files and directories.


2006-07-04  Damon Courtney <damon@installjammer.com>

* lib/file.tcl
* lib/trees-filegroup.tcl
    Fixed a bug that caused InstallJammer to ignore hidden files when
    building lists of files and directories for packaging.
    [Reported by Juan Tejo]


2006-06-30  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
    Fixed a bug where InstallJammer could create a temporary directory
    as root and then not be able to install later as non-root. [Bug #1513795]


2006-06-25  Damon Courtney <damon@installjammer.com>

* lib/trees-filegroup.tcl
    Fixed a bug that would cause files added in directories that
    are a direct child of a Windows drive to lose a / and make
    the files install in the wrong place. [Bug #1511627]

* lib/Actions/JavaActions/LocateJavaRuntime.action
    Fixed a bug that would cause an error if we were looking for a
    JRE on a Windows system that had never installed one. [Bug #1511871]

    Fixed a bug that caused InstallJammer to not recognize versions
    properly for a Blackdown Java JRE (they use - instead of _). [Bug #1511881]

* lib/common.tcl
* lib/virtualtext.tcl
    Fixed a bug where adding a new virtual text with no value would not
    get saved. [Bug #1511599]

    Fixed a bug where renaming a virtual text variable was not saving
    properly. [Bug #1509526]

    Fixed a bug where the error dialog when renaming or adding virtual
    text could get into a weird state if the user was doing a bunch of
    weird stuff.  Instead, we just post the error dialog and cancel the
    edit to stop the whole process. [Bug #1509526]

* lib/common.tcl
    Fixed a bug where InstallJammer was not setting the modified time of
    a file after it was installed on the target system.  This meant that
    every file installed had the current date/time instead of what was
    stored in the installer. [Bug #1505025]

* lib/trees-filegroup.tcl
    Fixed a bug where the Active property of a node in the File Group tree
    could get out of synch with its check image. [Bug #1505408]

* lib/cmdlin.tcl
    Fixed a bug where building from the command line would include files
    and directories that were marked as inactive in a project.
    [Reported by J Portman]

* lib/gui-common.tcl
    Fixed a bug where auto-complete typing was turned on for the Help Browser
    combobox in the Preferences dialog.  This was causing the user not to
    be able to type the location of a help browser.

    Fixed a bug where the Cancel button on the Preferences dialog didn't
    actually reset the preferences. [Bug #1508941]

* lib/main.tcl
* lib/common.tcl
    Fixed a bug where specifying the Default Language was not working
    properly during installation.  If Allow Language Selection is No,
    the Default Language will always be used.  If Allow Language Selection
    is Yes, InstallJammer will first attempt to determine the user's system
    language, and if available, use that as the default in the language select
    dialog.  If InstallJammer cannot determine the system language (or if it
    is one we don't have), the language select dialog will default to Default
    Language. [Bug #1510750]

* lib/BWidget/choosedir.tcl
    Clicking outside of the entry while making a new folder in the Choose
    Directory dialog will now finish the edit instead of reverting its text.
    [Bug #1510752]

* lib/common.tcl
    Fixed a bug where executing some actions before the first pane is
    displayed would cause an error.  InstallJammer was attempting to
    update the widgets on the pane when there was no pane to update.


2006-06-18  Damon Courtney <damon@installjammer.com>
    *** InstallJammer 1.0 RELEASED ***


2006-06-15  Damon Courtney <damon@installjammer.com>

* lib/Actions/ExecuteActions/ExecuteScript.action
    Fixed a bug that was causing the result virtual text not to be set
    after the script was executed.


2006-05-26  Damon Courtney <damon@installjammer.com>

* lib/tkcheck.tcl
    Fixed a bug that would cause user input into an entry field to be
    substituted as a boolean (0 or 1) value as they are typing.

* lib/common.tcl
    Fixed a bug that would cause files that have been installed previously
    to fail when trying to install over them.

* lib/BWidget/choosedir.tcl
    Fixed a bug that would cause the Make New Folder button on the Choose
    Directory dialog to fail.

* lib/BWidget/tablelist.tcl
    Fixed a bug that would cause the virtual text table to error when
    switching between languages if an edit was currently active.


2006-05-23  Damon Courtney <damon@installjammer.com>

    *** InstallJammer 1.0rc3 RELEASED ***


2006-05-19  Damon Courtney <damon@installjammer.com>

* lib/msgs/installer/*.msg
* Themes/*/theme.tcl
* Themes/*/*.msg
    Added some translations for strings that were missing in the last
    release.


2006-05-18  Damon Courtney <damon@installjammer.com>

* lib/BWidget/choosedir.tcl
    Modified the Choose Directory dialog to show drives on Windows so that
    the user can change to a different drive.

* lib/Actions/ExecuteActions/ExecuteExternalProgram.action
    Fixed a bug that would cause an error if the virtual text variables
    in an Execute External Program action were blank.

* lib/common.tcl
    Fixed a bug where the Unpack Stored File action could cause an error
    if the file failed to install.

* lib/Actions/InstallActions/UnpackStoredFile.action
    Unpack Stored File will no longer respect the File Update Method for
    the given file.  This isn't very intuitive anyway, and the action can
    always have its own conditions if it needs them.


2006-05-17  Damon Courtney <damon@installjammer.com>

* lib/BWidget/wizard.tcl
    Fixed a bug that would cause the wizard to fail on some platforms
    with an error about "wm resizable ..."

* lib/Actions/InstallActions/UnpackStoredFile.action
    Fixed a bug in the Unpack Stored File action.


2006-05-12  Damon Courtney <damon@installjammer.com>

* lib/class.tcl
    Fixed a bug where the text label for text properties was prepending
    the word Edit to every label.

* Themes/*/Install/UserInformation.tcl
    Fixed the virtual text variables for the user info panes.  The variables
    used now are: <%UserInfoName%> and <%UserInfoCompany%>

* lib/utils.tcl
* lib/common.tcl
* lib/preview.tcl
    Fixed a bug that would cause an unrecognized error if there was an
    actual error while trying to preview a pane.  The message box would
    never come up and instead come up with an error that doesn't actually
    tell you what the problem is.

* lib/new.tcl
    Fixed a bug that would cause an error when creating a new install if
    you don't go all the way to the last screen.


2006-05-11  Damon Courtney <damon@installjammer.com>

* lib/main.tcl
* lib/build.tcl
    Fixed a bug that was causing failure in command-line builds. [Bug 1486397]

* lib/main.tcl
* lib/cmdline.tcl
    Fixed a bug that would cause message boxes to error on Windows during
    a command-line build.  Since Windows doesn't have a console we can
    output to, we use message dialogs instead to let the user know when
    something happens.

* lib/build.tcl
    Changed the output of the info array for virtual text.

    Made the build files write out with UNIX linefeeds.  We don't need the
    extra \r that Windows puts in, and Tcl will handle it either way.


2006-05-10  Damon Courtney <damon@installjammer.com>

    *** InstallJammer 1.0rc2 RELEASED ***


2006-05-10  Damon Courtney <damon@installjammer.com>

* lib/main.tcl
    Fixed a startup bug that would only occur on systems that had never
    had InstallJammer run before.

* lib/class.tcl
    Fixed a bug that would cause the titles of panes to become corrupted
    after deleting a pane and adding new ones.  Very obscure bug.


2006-05-10  Damon Courtney <damon@installjammer.com>

    *** InstallJammer 1.0rc1 RELEASED ***

2006-05-08  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
* lib/Actions/ExecuteActions/ExecuteExternalProgram.action
    Fixed a bug in Execute External Program where having a file name
    with spaces or backslahes would cause the execute to fail because
    of string translation.  This only happened when showing progressive
    output.

* lib/help.tcl
    Fixed a bug that would cause an error if a user clicked the About
    InstallJammer button more than once.

* lib/Actions/ExecuteActions/ExecuteScript.action
    Execute scripts at the global level.

    Added Result Virtual Text property to Execute Script to store the
    result of the script in the specified virtual text.


2006-05-05  Damon Courtney <damon@installjammer.com>

* lib/gui-common.tcl
    Fixed a bug that was causing paned windows in the install builder
    to not use the saved geometry from the last session.  The paned
    windows should now all remember their locations between sessions.

* lib/gui-common.tcl
    Focus to the virtual text table after selecting a new language.

* lib/new.tcl
* lib/utils.tcl
* lib/Themes/*/theme.tcl
    Added new additional feature to the new install wizard to allow
    users to select custom components during installation.  If this
    option is checked, InstallJammer adds the panes to the installer
    to allow the user to select setup type and custom components.
    

2006-05-03  Damon Courtney <damon@installjammer.com>

* lib/build.tcl
* lib/common.tcl
    Removed the individual platform package directories in favor of a
    single InstallJammer package.  Each platform can still have its
    own package directory in the future though.

* lib/Actions/ExecuteActions/ExecuteExternalProgram.action
    Added a Working Directory property to Execute External Program
    that specifies what directory to be in when starting up the
    external program.  InstallJammer will remain in that directory
    until the external application finishes executing.

* lib/new.tcl
    Made the Launch Application action in new installs default to
    <%InstallDir%> as its working directory.


2006-05-02  Damon Courtney <damon@installjammer.com>

* lib/main.tcl
    Store Allow Language Selection in the install so that the installer
    will respect its value.  Previously, setting this to No would still
    prompt the user for language.

* lib/utils.tcl
    When modifying the value of a file property, trim the result of whitespace.


2006-04-27  Damon Courtney <damon@installjammer.com>

* lib/editor.tcl
    Fixed a bug where clicking the X on the text editor would cause an error.

* Themes/Modern_Wizard/Install/License.tcl
    Fixed a bug where the radiobuttons on the license pane were not reflecting
    state properly. [Bug 1477233]

* lib/new.tcl
    Check to make sure the project directory we're about create doesn't
    already exist when creating a new project.

* lib/file.tcl
* lib/gui-common.tcl
    Re-added an option to Skip Unused File Groups in the Install Features
    that tells InstallJammer to not pack file groups that are not contained
    in at least one component.  There are times when we need to pack files
    that really aren't part of the install at all.


2006-04-23  Damon Courtney <damon@installjammer.com>

* Themes/*/Common/setup.tcl
    Fixed a bug that was causing pieces of the installers to not all share
    the same background color.  This would cause the installers to look
    odd on most UNIX platforms because the colors didn't match.


2006-04-19  Damon Courtney <damon@installjammer.com>

    *** InstallJammer 1.0b2 RELEASED ***


2006-04-19  Damon Courtney <damon@installjammer.com>

* lib/help.tcl
    When opening the Windows help file, open to the correct help topic.

    Fixed the handling of a blank help browser on Windows.  InstallJammer
    will execute the default web browser for the system.


2006-04-13  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
    Removed the -index argument for Install Components.  They are no longer
    saved with the project.  Instead, components are placed in their parents
    in the order they are added in the file.


2006-04-12  Damon Courtney <damon@installjammer.com>

* lib/install.tcl
    When browsing for the install dir during installation, we no longer
    append our directory to the end of what the user chooses.  They do,
    however, have the option to make a new folder on the target system
    for installing into.

* lib/gui-common.tcl
    Fixed a bug where Platform Information was not accurately being updated
    when closing and opening install projects.

* lib/new.tcl
    Fixed a bug where some information was not being saved for some platforms
    if they were not active in the new project.


2006-03-29  Damon Courtney <damon@installjammer.com>

* lib/Actions/GeneralActions/SetVirtualText.action
    Added new Set Virtual Text action to set the value of a
    virtual text variable in a specified language.


2006-03-23  Damon Courtney <damon@installjammer.com>

* lib/Actions/GeneralActions/Exit.action
    Added a new Exit Type property to the Exit action that specifies
    whether we're exiting on a Cancel or Finish condition.  This mostly
    affects what actions InstallJammer will take during exit, including
    whether the Finish Actions or Cancel Actions action group is called.

* lib/BWidget/properties.tcl
    Fixed a bug where hitting Escape while editing a property
    in the Conditions Editor would actually cause the window to close.

* lib/Actions/InstallActions/CheckForPreviousInstall.action
    Added new Check for Previous Install action that sets the
    variables <%PreviousInstallExists%> and <%PreviousInstallDir%>.


2006-03-22  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
    Added Temp and InstallInfoDir explicitly to the list of
    virtual text so that if the installer tries to use them
    before InstallJammer itself has, the directories will be
    created and established correctly.

    Added checks to make sure files in the Temp and InstallInfoDir
    directories don't get written out to the install log.  These
    directories are automatically cleaned up by InstallJammer anyway.

* lib/common.tcl
* lib/uninstall.tcl
* lib/Actions/UninstallActions/UninstallSelectedFiles.action
    An uninstaller will now check for an install.log file in the
    InstallJammer info directory if it can't find one stored inside
    itself.

    Make sure the uninstall deletes the InstallJammer info directory
    when everything else is done.  No need to leave it lying around.

* lib/Actions/ExecuteActions/ExecuteScript.action
* lib/Actions/ExecuteActions/ExecuteExternalProgram.action
* lib/Conditions/GeneralConditions/ScriptCondition.condition
* lib/Conditions/StringConditions/StringEqualCondition.condition
* lib/Conditions/StringConditions/StringMatchCondition.condition
    Changed actions and conditions with text properties that
    referred to scripts and code into regular properties.  Since
    text properties are now localized by language, these scripts
    would have been only set in a single language and wouldn't
    work if the user changed languages during installation.

* lib/class.tcl
* lib/utils.tcl
    Fixed a bug in editing a text property of a condition.  An error would
    occur when trying to finish the edit.

* lib/BWidget/tablelist.tcl
    Fixed a bug where double-clicking between two rows in a tablelist
    would cause an error.

* lib/BWidget/wizard.tcl
* Themes/Modern_Wizard/Common/CustomBlankPane1.pane
* Themes/Modern_Wizard/Common/CustomBlankPane1.tcl
    Removed the separator from the Custom Blank Pane 1 of the Modern
    Wizard and added a separator underneath the image and text box.
    This looks more like other modern wizards. [Req 1453799]


2006-03-21  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
    Added FileBeingInstalled to the list of virtual text to be normalized.

    Added new <%Tail filename%> virtual text to get the tail end of a
    file path.

* lib/file.tcl
* lib/common.tcl
* lib/trees-filegroup.tcl
    Directory objects now store their directory as the actual directory
    path instead of the directory to be created in.

* lib/Actions/InstallActions/InstallDesktopShortcut.action
    Added new Install Desktop Shortcut action.  Does exactly what
    the other install shortcut actions do except that it will automatically
    install the shortcut on the target desktop for every supported window
    manager available.

* lib/Actions/InstallActions/UnpackStoredFile.action
    Added new Unpack Stored File action that will unpack a file stored in
    the installer to a specified location.

* lib/Actions/GeneralActions/LaunchWebBrowser.action
    Added new Launch Web Browser action that opens a web browser to a
    specified URL.


2006-03-20  Damon Courtney <damon@installjammer.com>

* lib/trees.tcl
    Fixed a bug where editing the name of a file group would cause
    an error when trying to save the new name. [Bug 1453794]

* lib/trees-setuptype.tcl
    Fixed a bug where creating a new Setup Type would cause an error.
    [Bug 1453794]

* lib/Themes/*/*/*.tcl
    Changed the display of embedded textboxes.  Instead of making the
    entire frame with scrollbars appear sunken, we only make the textbox
    itself appear sunken. [Req 1453799]

* lib/build.tcl
    Output all boolean variables in the info array as 0 or 1 depending.
    This is cleaner for the implementation of checkbuttons in a wizard.

* Themes/*/Install/SelectProgramFolder.tcl
    Added a checkbutton to the Select Program Folder pane to let the
    user install the program folder for all users instead of just
    the current.

* lib/gui-common.tcl
    Added new Install Program Folder for All Users property for Windows
    platforms.


2006-03-19  Damon Courtney <damon@installjammer.com>

* lib/utils.tcl
* lib/class.tcl
* lib/trees-filegroup.tcl
    Added new options for files and directories so that every directory
    or file in an install can be customized with properties.

* lib/new.tcl
    When adding the default application directory, just add the directory
    as one and set the Destination Directory to <%InstallDir%> instead of
    adding all the files contained in the directory.  This will achieve
    the same effect of having the application install in the root install
    directory.

* lib/Themes/*/*/*.tcl
    Made all text boxes in the install themes wrap on a word instead of
    on a single character.

* lib/main.tcl
* lib/install.tcl
* lib/gui-common.tcl
* lib/virtualtext.tcl
    Removed the Enable InstallJammer Version System option.  We're going
    to always save the versions from now on.

* lib/utils.tcl
    Fixed a bug where testing an install that needed to be rebuilt would
    cause an error due to a missing command.  We now wait until the rebuild
    is done before proceeding with the test.


2006-03-19  Damon Courtney <damon@installjammer.com>

* lib/utils.tcl
* lib/common.tcl
* lib/virtualtext.tcl
    Added support for multiple languages in installers.  A few more
    things to do in this area, but the support is there.

* lib/utils.tcl
    Fixed a bug where some properties would not get saved when
    switching from one component to the next.

* lib/preview.tcl
    Save the active component before previewing so that we get all
    of the latest changes into the preview window.

* lib/new.tcl
* lib/install.tcl
    Added new default Action Groups for cancel and finish.  These groups
    are called before the installer completes, but they are not attached
    to any specified pane or action.

    Removed Startup Actions from the welcome pane.  This action group
    now gets called at the startup no matter what.

* lib/install.tcl
    Added a --prefix option to installs that lets the user specify the
    install directory prefix from the command-line.


2006-03-15  Damon Courtney <damon@installjammer.com>

* lib/install.tcl
* Themes/*/Install/SelectProgram
    Populate Program Folders from a single proc instead of putting
    the code directory in the panes.  Added a SetProgramFolder proc
    to setup the program folder instead of setting the variable
    directly.


2006-03-11  Damon Courtney <damon@installjammer.com>

* lib/utils.tcl
* lib/build.tcl
* lib/common.tcl
    Changed the default file extension on non-Windows systems from .bin
    to nothing.  Most Linux systems seem to recognize that executable
    files just shouldn't have an extension.

* lib/file.tcl
* lib/gui-common.tcl
    InstallJammer will now remember the sizes of the panedwindows
    on the main screens in the builder.

* lib/gui-common.tcl
    Made the default geometry for InstallJammer 800x600 instead of
    1024x768 for those poor sods who are still running on lower
    resolution machines.  The guys on the larger screens can always
    make it bigger.

* lib/build.tcl
    Made quick build spit out the correct build time for each
    platform instead of just the overall build time.

    Fixed a bug where trying to exit while building would cause an
    error because of a bad proc name.  Still can't exit or close
    a project during a build.  That's yet to come.

* lib/install.tcl
    Normalize the home directory for .installjammerinfo on UNIX
    platforms.  Storing ~/.installjammerinfo in the install.log
    was causing errors during uninstallation.


2006-03-09  Damon Courtney <damon@installjammer.com>

* lib/new.tcl
    Changed the way project name and project directory are handled
    when creating a new project.  An InstallJammer project must always
    be created in its own subdirectory since it does a lot of things
    during building that we don't want to conflict with any directories
    that may already exist.

* lib/BWidget/properties.tcl
    Fixed a bug where an error while editing properties could cause
    another error when clicking to another cell.

    Fixed a bug where double-clicking on a row border would cause the
    table columns to auto-resize.

* lib/utils.tcl
    Editing a version node now just has a standard entry, but it expects
    the user to enter a valid version in the format of X.X.X.X.  An error
    occurs if the version is invalid.  The field can also accept virtual
    text that is also checked for a valid version.

* lib/BWidget/preferences.tcl
    Fixed a bug in Preference widgets where -treewidth and -pagewidth
    were not being accurately reported.

* lib/BWidget/panedw.tcl
    Fixed a recursive bug in PanedWindow.


2006-03-08  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
    Fixed a bug where the <%Username%> virtual text was not getting
    set properly when the user was root.  By virtue of this, the
    Require Root option was not working properly because InstallJammer
    never thought anyone was root unless they had actually logged into
    the session as root.

* lib/gui-common.tcl
    Made the toolbar icons 22x22 instead of 16x16.  I just like it better
    that way. 0-]

    Added code to modify the current help topic depending on what screen
    the user is currently on.

    Hooked up the Help button on the toolbar to the current help topic.

    Hooked up F1 to the current help topic.


2006-03-03  Damon Courtney <damon@installjammer.com>

* lib/build.tcl
* lib/gui-common.tcl
    Removed the build option to save main.tcl.  The build files are now
    always saved in a build/ subdirectory in the project directory.
    
    Removed the build option to rebuild without repackaging files.

    Added a Quick Build toolbar button that rebuilds the installer files
    and stores them in the installer without repackaging all of the
    actual application files.

    Added a checkbutton to the Build screen to build installers for
    final release.  This option disables the debugging options in the
    installer and turns off a few other things so that the installers
    produced are ready for final distribution.


2006-03-02  Damon Courtney <damon@installjammer.com>

* lib/new.tcl
* lib/main.tcl
* lib/gui-common.tcl
    Added new Short Application Name (<%ShortAppName%>) virtual text.

    Added new Application URL (<%ApplicationURL%>) virtual text.

* lib/Actions/InstallActions/InstallSelectedFiles.action
* lib/Actions/UninstallActions/UninstallSelectedFiles.action
    Added new <%Status%> virtual text to more accurately reflect
    what InstallJammer is doing throughout the installation.  This
    variable is being used in place of <%FileBeingInstalledText%>
    in most cases.

* Themes/Modern_Wizard/*
    Moved all of the text strings out of the individual panes and
    into en.msg.  Adding new languages should be much easier with
    all the text in one place.


2006-02-27  Damon Courtney <damon@installjammer.com>

* Binaries/*/installkit
    Upgraded installkit to threaded builds when available on a platform.

* lib/build.tcl
* lib/common.tcl
* lib/unpack.tcl
* lib/install.tcl
    Modified InstallJammer build and install processes to use threads
    instead of executing an external process.  This will save us the
    overhead of always starting a new process.

    Install builds are now almost twice as fast as the last release.
    Installation should see a pretty good speed-up as well.
    

2006-02-25  Damon Courtney <damon@installjammer.com>

* Binaries/*/installkit
    Fixed a bug where files with non-ASCII characters in the filename
    would cause a failure when building an installer.  All filenames
    should be acceptable now.

* lib/common.tcl
    Fixed a bug where installing a 0 byte file on Windows would fail.

* lib/Actions/InstallActions/InstallWishBinary.action
    Fixed Install Wish Binary action.  It had some old code that wasn't
    previously working.

* lib/Actions/InstallActions/InstallWrappedScript.action
    Fixed Install Wrapped Script action.  This wasn't really working
    at all.

    Added new Windows Resource properties to this action.


2006-02-22  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
    Fixed a bug where InstallJammer was not respecting the File Update Method
    of a file group.  All installs were using the default to check for newer
    files by date.

    Fixed a bug where checking for files with newer dates was not usually
    accurate.  We now record the mtime of each file when building the
    install and use that for comparison.

* Themes/*/Uninstall/Uninstall.pane
    Fixed a bug in the default action.  When the user was asked if they
    wanted to remove ALL components, yes meant no and no meant yes.


2006-02-15  Damon Courtney <damon@installjammer.com>

* lib/build.tcl
    Removed some superfluous update calls from the build so that
    builds move faster.

* lib/common.tcl
* lib/install.tcl
* lib/uninstall.tcl
* lib/virtualtext.tcl
    Cleaned up virtual text handling a lot so that any virtual text
    that is not considered reserved by InstallJammer can be overwritten
    in the virtual text definitions of a project.


2006-02-14  Damon Courtney <damon@installjammer.com>

* Themes/Modern_Wizard/Install/CopyFiles.pane
    Renamed FileValue widget to FileLabel.

* lib/file.tcl
* lib/build.tcl
* lib/dobuild.tcl
    Changed the way virtual text and strings are handled when building
    and loading projects in order to support Unicode characters in a
    project.  Full language support will happen in v1.1, but this will
    at least let users use whatever characters they want without us
    getting in their way.

* lib/virtualtext.tcl
    Removed standard virtual text from the Virtual Text screen.  We now
    only list the virtual text that has been added to the project.

* lib/build.tcl
    Removed RootDir, BinDir and LibDir virtual text.  They are no longer
    really needed for anything.


2006-02-13  Damon Courtney <damon@installjammer.com>

* lib/Actions/WindowsRegistryActions/AddWindowsFileCommand.action
    Fixed a typo that would cause the Add Windows File Command action
    to fail everytime.

* lib/common.tcl
    Adjusted read_file to always read files in utf-8 by default.

    Removed the -label option from GetText.  We no longer substitute
    \n to \\n in labels in InstallJammer.

    Added the ability to substitute message catalog text as a virtual
    text variable.  For example, <%PaneID,BackButton%> will return
    the Back Button text value for the pane identified by PaneID.


2006-02-12  Damon Courtney <damon@installjammer.com>

* lib/BWidget/wizard.tcl
    Adjusted the padding of the bottom separator in the wizard.

* Themes/Modern_Wizard/*/init.tcl
    Adjusted the wizard height to account for the new separator padding.

    Added InstallJammer text to the wizard separator.


2006-02-12  Damon Courtney <damon@installjammer.com>

    *** InstallJammer 1.0b1 RELEASED ***


2006-02-11  Damon Courtney <damon@installjammer.com>

* Binaries/*/installkit
    Updated the installkits to the latest 8.4.12 release of Tcl/Tk.

    Cleaned up some code to speed up wrapping of installs.

    Wrapping now supports updating the Windows File Version for
    executables so that hovering over the installer in Explorer will
    display the correct version of the application.


2006-02-08  Damon Courtney <damon@installjammer.com>

* lib/uninstall.tcl
    Fixed a bug where uninstall directories on Windows were not
    getting cleaned up properly on subsequent installations.

* lib/utils.tcl
    Fixed a bug where \n would get saved as a literal \n in text properties.


2006-02-02  Damon Courtney <damon@installjammer.com>

* lib/Actions/GeneralActions/MessagePanel.action
    Fixed a bug that would cause a message panel to be hidden
    if it was displayed before the wizard was up.

* lib/Actions/JavaActions/LocateJavaRuntime.action
    Added new Locate Java Runtime action to find the best available
    Java runtime on the target system.

* lib/Actions/JavaActions/GetJavaProperty.action
    Added new Get Java Property action to get the value of a property
    from a Java properties file.

* lib/Actions/GeneralActions/Wait.action
    Added a Wait action that will wait a specified amount of time
    before proceeding with the install.


2006-02-01  Damon Courtney <damon@installjammer.com>

* lib/conditions.tcl
    Fixed a bug that would cause the confirmation message dialog to
    disappear behind the condition editor when deleting a condition.

* lib/install.tcl
    Fixed a bug where require root was calling the wrong exit if the user
    was not root.

* lib/build.tcl
    Cleaned up the build messages a little.


2006-01-31  Damon Courtney <damon@installjammer.com>

* lib/build.tcl
    Executables are now built into an output subdirectory of the project
    directory.  This puts all of the installers into a single directory
    without any other files.  More stuff will go in here later.

* lib/trees-component.tcl
* lib/trees-filegroup.tcl
* lib/trees-setuptype.tcl
    Fixed a bug that was causing InstallJammer to not remember the Build
    Platforms for file groups, components and setup types upon reloading.


2006-01-23  Damon Courtney <damon@installjammer.com>

* lib/gui-common.tcl
    Split the preferences dialog into two tabs.


2006-01-22  Damon Courtney <damon@installjammer.com>

* lib/BWidget/tablelist.tcl
    Added the ability to tab through fields when editing Virtual Text.


2006-01-19  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
* lib/install.tcl
    Set ProgramFolder during common init.  We don't need a proc.


2006-01-18  Damon Courtney <damon@installjammer.com>

* lib/file.tcl
* lib/build.tcl
    Automatically remove unused file groups and components when building
    an install.  If a component includes a file group that was not saved
    because it was inactive or for any other reason, the file group will
    be removed from the component's list of file groups before building.

    A warning message is output in the build log explaining that the
    file group or component was removed during build.

* lib/Actions/WizardActions/ModifyWidget.action
    The Widget property can be a semicolon (;) separated list of widgets
    instead of always being just one.  This allows a single Modify Widget
    action to change several widgets at once. IE: Back Button; Next Button


2006-01-17  Damon Courtney <damon@installjammer.com>

* lib/trees-filegroup.tcl
    Added the ability to set permissions across multiple file and file
    group selections.


2006-01-16  Damon Courtney <damon@installjammer.com>

* lib/file.tcl
* lib/utils.tcl
* lib/themes.tcl
    Added the ability to edit a pane's creation code.  The new code is
    saved in the project directory in a created Theme subdirectory.  This
    is functionality that was already in place but was previously taken
    out to be reworked.

    Added new "Edit Pane Code" and "Restore Original Pane" buttons to each
    pane property window.


2006-01-14  Damon Courtney <damon@installjammer.com>

* lib/Actions/WizardActions/ModifyWidget.action
    *** INCOMPATIBILITY ***
    Added a new Modify Widget action that replaces the Modify Button action.
    All uses of Modify Button throughout the different themes have been
    changed to Modify Widget.

    The Modify Button action has been removed.

* lib/Actions/ExecuteActions/ExecuteExternalProgram.action
    Added a property to specify a widget to update with output from the
    external program while running.  The widget must be a text box, and
    it will auto-scroll as output becomes available.

    Modified the way this action reads from stdout.  Instead of reading
    line-by-line, the data is now read as it becomes available and immediately
    updated in the progress widget.  This makes it possible to execute
    configure and make actions from the installer, and the output will
    continually updated in the text box as it builds.

* lib/build.tcl
    We don't auto-scroll the build log window if the user has scrolled up
    to read something else.


2006-01-12  Damon Courtney <damon@installjammer.com>

* lib/file.tcl
* lib/trees-filegroup.tcl
    *** INCOMPATIBILITY ***
    Changed the way directories added to file groups work.  Instead of
    treating the root directory as being installed into the file group
    directory, every directory in a file group has its directory created.

    This gives a more consistent approach to directories in file groups.
    What you see is what you get.  All directories in a file group will
    be created just as you see them in the file group display.  Think of
    the file group as the root directory created when installing, and every
    directory contained in the file group will be created underneath it.

    This is more in-line with how other installers work as well as how most
    people would expect it to work.


2006-01-11  Damon Courtney <damon@installjammer.com>

* lib/trees-filegroup.tcl
    Added right-click menu options on files to "Add to Windows Desktop" and
    "Add to Program Folder."  This makes it a lot easier to add a desktop or
    program folder link for any file in an install.

* lib/main.tcl
* lib/class.tcl
* lib/gui-common.tcl
    Added new UNIX platform options for "Default File Permission" and
    "Default Directory Permission."

* lib/utils.tcl
* lib/gui-common.tcl
    Added automatic scrollbars to the main project list.


2006-01-10  Damon Courtney <damon@installjammer.com>

* lib/trees-component.tcl
    Added the ability to drag-and-drop components to change their order.
    This will affect the order components appear on the tree when choosing
    components for a custom install.

* lib/trees-setuptype.tcl
    Added the ability to drag-and-drop setup types to change their order.
    This will affect the order of setup types on the screen when the user
    is allowed to select a setup type.

* lib/class.tcl
* lib/install.tcl
    Added an option to specify that a component is required.  Required
    components cannot be deselected when the user is choosing components
    in a custom install.


2006-01-09  Damon Courtney <damon@installjammer.com>

* lib/common.tcl
    Fixed a bug where the "Execute Action" action would not work if it
    specified a target action that was not an Action Group.  Execute Action
    can now execute a single action as well as an Action Group.

    Set <%Username%> in CommonInit for both install and uninstall.

* lib/install.tcl
    Don't set <%InstallDir%> to <%RootInstallDir%> if it is empty.

* lib/uninstall.tcl
    Check for <%RequireRoot%> and require a root user to uninstall if
    it was also required for installation.


2005-12-08  Damon Courtney <damon@installjammer.com>

* Themes/Modern_Wizard/*/*.tcl
* Themes/Classic_Wizard/*/*.tcl
    Went through all of the important widgets in the install themes and
    made sure their text could be modified from within the install builder.


2005-12-07  Damon Courtney <damon@installjammer.com>

* Themes/Modern_Wizard/Common/defaults.tcl
* Themes/Classic_Wizard/Common/defaults.tcl
    Fixed a bug that would cause the Icon and Image variables to be
    overwritten anytime a project was loaded. [Bug 1367770]

* lib/Actions/InstallActions/InstallSelectedFiles.action
    Fixed a bug where de-selecting a component in a Custom install
    would not disable it during installation.

* lib/cmdline.tcl
    Fixed a bug that was causing command-line builds to fail. [Bug 1374874]

* lib/uninstall.tcl
* Themes/Modern_Wizard/Common/main.tcl
* Themes/Classic_Wizard/Common/main.tcl
    Added ::InstallJammer::UninstallMain to handle the default uninstall
    actions for any theme.

    Center the uninstall window when uninstallation begins.

* lib/Actions/InstallActions/InstallWindowsShortcut.action
    If the target of the Windows shortcut does not exist, do not install one.
    [Bug 1370423]

* Themes/Modern_Wizard/Install/SelectDestination.tcl
* Themes/Modern_Wizard/Install/SelectDestination.pane
    Updated to allow configuration of the "Destination Folder" label.
    [Bug 1370424]

* lib/gui-common.tcl
    Added a button to explore test installs to the main toolbar.


2005-11-21  Damon Courtney <damon@installjammer.com>

* lib/install.tcl
    Set <%Username%> to the current system username.

    Check for <%RequireRoot%> and display an error and exit if the user is
    not root.

    If user is root, set <%InstallDir%> to the value of <%RootInstallDir%>.

    Decide which directory to store install info in based on whether the
    user is root or not.  If the user is root, store install info in
    /var/lib/installjammer.  If not, store it in ~/.installjammerinfo

* lib/common.tcl
    Fixed a bug where dialogs would sometimes not center to the screen.


2005-11-17  Damon Courtney <damon@installjammer.com>

* lib/class.tcl
* lib/gui-common.tcl
    Added RequireRoot and RootInstallDir parameters to UNIX installs.


2005-11-16  Damon Courtney <damon@installjammer.com>

* lib/gui-common.tcl
    The browse button for Windows Icon was using the wrong button style.


2005-11-14  Damon Courtney <damon@installjammer.com>

* lib/install.tcl
    Changed SetInstallDir to record the original install dir and then
    append the tail end of the original install dir to the new install dir.

* lib/Actions/UninstallActions/UninstallSelectedFiles.action
    Don't perform registry actions on UNIX.  They don't do anything
    anyway, but the user still sees the message that we're uninstalling
    registry entries.  That could offend some UNIX people. 0-]

* lib/BWidget/properties.tcl
    Fixed a bug where escaping while editing could sometimes cause an error.

* lib/gui-common.tcl
* lib/utils.tcl
    Added checks when entering text to verify that any virtual text is
    complete and valid.

    When building a list of avaiable widgets for a pane, look through all
    of the children and find any Add Widget actions to add to the list.

* lib/build.tcl
    Fixed a bug where building would cause the active component to go blank.

    Fixed a bug that would cause the status progressbar to disappear
    between platform builds.

* lib/BWidget/dialog.tcl
    Fixed a bug where closing the conditions window with the X would put the
    window into an unstable state.

* lib/Conditions/FileConditions/FilePermissionCondition.condition
    Added new "File Permission" condition to check file permissions.

* Themes/Modern_Wizard/Install/SelectionDestination.pane
* Themes/Classic_Wizard/Install/SelectionDestination.pane
    Added file permission condition to check and make sure we can create
    the install directory before proceeding.

* lib/conditions.tcl
    Preserve the geometry of the conditions window between sessions.


2005-11-14  Damon Courtney <damon@installjammer.com>

    *** InstallJammer 1.0a1 RELEASED ***


2003-10-07  Damon J. Courtney <damon@unreality.com>

    Too many changes to name.  I really gotta' start doing more
    incremental commits.  Not this time though. 0-]  The next commit
    should have a lot more changes as well. *le sigh*

2003-08-27  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    	Split UNIX and Windows components out into separate procs to
	allow for different components on each platform.

	Added button to "Windows Registry Component" to generate a
	random GUID.

    o lib/main.tcl
    	Updated some of the minimum versions on the packages.

    o lib/windows.tcl
    	Moved some transience around to clean up some stray windows.

    o lib/icons/tkIcons.installbase
    	Renamed an icon.

2003-08-26  Damon J. Courtney <damon@unreality.com>

    Moved all build procs into build.tcl.

    Added a window to define virtual text within an install.

    Cleaned up the build of installs.

    Cleaned up file group trees.

    Lots of other stuff I can't remember.

2003-06-23  Damon J. Courtney <damon@unreality.com>

    Removed all reference to auto-update directories.  They're no
    longer needed with the new directory style.

2003-06-23  Damon J. Courtney <damon@unreality.com>
    o lib/common.tcl
    	Fixed setting of versions during installation.

	Moved more functionality into the File class.

    o lib/components.tcl
    	Fixed listbox selection in the components list.

    o lib/trees.tcl
    	Removed variables for autodir and autodirrecurse.

	Clicking the image in a file tree works like a check now.

    o lib/unpack.tcl
    	Rewrote the handling of unpacking files to use the internal
	class mechanisms.

    o lib/utils.tcl
    	We no longer save the FileInfo array to installs, all the info
	is contained in the File class.

    o lib/widgets.tcl
    	All comboboxes have the auto-complete feature turned on by default.

2003-05-06  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	CreateDir and CreateDirTree now track directories in an array
	in order to speed things up a bit.

	Removed the FileManifest command.  It's no longer necessary.

	Added a File class to handle files during installation.

    o lib/editor.tcl
    o lib/help.tcl
    	Removed a pack statement that would cause a hang in ScrolledWindow.

    o lib/install.tcl
    	Added some error-checking while processing files.

	Command-line arguments in an icon are now subst'd before
	storing to the file.

	KDE and Gnome desktop icons are now created with the .desktop file
	extension.

    o lib/trees.tcl
    o lib/utils.tcl
    	Completely changed the way file groups are handled.  A directory
	is now added as a sub-node of the file group, and the user can
	select which files / sub-directories to include or exclude from
	the install.

    o lib/unpack.tcl
    	Many file functions are now contained within the File class.

	Added an error check for divide-by-zero case in progress update.

    o lib/utils.tcl
    	Removed all catch { unset } commands in favor of -nocomplain.

	GetFileList now returns the contents of a proc to be stored
	with the install that initializes all the files in an install
	by creating their respective objects.

	Removed specific icons with checks in favor of creating checked
	images on loading.

    o lib/windows.tcl
    	Removed some packs that would cause a hang in ScrolledWindows.

    o lib/Icons/tkIcons.installbase
	Removed specific icons with checks in favor of creating checked
	images on loading.

2003-04-05  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Re-wrote handling of the TclKit Manifest in order to pick up
	anything new in the future.

    o lib/utils.tcl
    	Added a check for when a project is loading to prevent double
	loading by clicking on accident.

2003-04-05  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/uninstall/windows.tcl
	Fixed exit bug on uninstall start up.

    o lib/install.tcl
    	Added conditions to unpack build.

2003-03-29  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/install/windows.tcl
    	A tree doesn't have a -font option.

    o lib/common.tcl
    	Fixed divide-by-zero bug in build.

    o lib/bwidget.tcl
    	Added the DynamicHelp::include proc for the new tree and listbox
	in BWidgets.

2003-03-27  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Re-writing the way we deal with TclKit.  Too many possible
	errors and no possible information to debug with.

    o lib/utils.tcl
    	If info(ProjectDir) exists, we return that instead of a
	hard-coded path to InstallBase.  This will allow users
	more flexibility in specifying the location of projects.

    o lib/windows.tcl
    	Added in a search for some of the common browsers to list
	in the help browser list.

2003-03-21  Damon J. Courtney <damon@unreality.com>

    Tagged and released 1.0a5.

2003-03-19  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/install/main.tcl
    	Removed the entire MPI_init proc.  All of this will be done in
	CommonInit from now on.

    o Themes/Classic_Wizard/install/windows.tcl
    o Themes/Classic_Wizard/uninstall/windows.tcl
    	Windows now have to specify background and font using variables
	instead of the options database.

    o Themes/Classic_Wizard/uninstall/main.tcl
    	Removed init stuff to ::MPI::InitUninstall which calls itself
	upon loading.

    o lib/common.tcl
    	Moved more basic initialization stuff into CommonInit.

    o lib/fileclass.tcl
    o lib/utils.tcl
    	Added some file cacheing code.  It will be used more in future
	releases.

	Removed the options commands from PreviewWindow.  This was
	causing too many problems with BWidgets.

2003-03-17  Damon J. Courtney <damon@unreality.com>

    Tagged and released 1.0a4.

2003-03-16  Damon J. Courtney <damon@unreality.com>

    o lib/windows.tcl
    o lib/utils.tcl
    	Changed the build log from a ListBox to a text box.  The ListBox
	gets too slow to scroll when the log starts getting big.

	EvalCondition doesn't evaluate from within the builder.  It always
	returns true.

2003-03-15  Damon J. Courtney <damon@unreality.com>

    o lib/editor.tcl
    o lib/widgets.tcl
    o lib/windows.tcl
    	Added a right-click editor menu to entries and text boxes.

2003-03-09  Damon J. Courtney <damon@unreality.com>

    o installbase
    	Updated the UNIX start up script to reflect the new platform names.

    o lib/common.tcl
    	::MPI::wrap makes files executable upon completion under UNIX.

    o lib/install.tcl
    	Uninstall requires Tk upon start up.

    o lib/main.tcl
    	InstallBase requires Tk upon start up.

    o lib/unpack.tcl
    	Unpack doesn't require Tk, but it requires a wait command.

    o lib/utils.tcl
    	Fixed a bug concerning spaces in file names.

2003-03-09  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/install/default.tcl
    o lib/common.tcl
    o lib/utils.tcl
    	Added the ability to specify that a text field should not be
	substituted for virtual text.

2003-03-09  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/install/en.msg
    o Themes/Classic_Wizard/install/install.cfg
    	Added new text for license and readme screens.

    o Themes/Classic_Wizard/install/utils.tcl
    o Themes/Classic_Wizard/install/windows.tcl
   	Added some options to force reading the license agreement screen
	before continuing.

    o lib/editor.tcl
    	Added the ability to import a file into the text editor.

    o lib/utils.tcl
    	Removed the LicenseFile and ReadmeFile options.  The text for each
	pane must be specified in the editor.

2003-03-09  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    o lib/install.tcl
    	Moved exit proc into install.tcl as it's not really common.

	Added the ability to specify the install.log location.

    o lib/main.tcl
    o lib/utils
    o lib/windows.tcl
	Added the ability to specify command-line failure actions.

2003-03-08  Damon J. Courtney <damon@unreality.com>

    Giant commit.  Lots of changes.  This is only a short list of the
    high points.

    	Cleaned up a lot of code.

	Added the ability to change the Windows file icon of an install.

    	Removed freewrap binaries.

	Added TclKit binaries.

	Added rollback capabilities to installs.  When an install is
	cancelled, the files can be restored as they were before installation.

	Added a -S option to specify a silent install.

	Added a -Y option to specify an install where all defaults are
	accepted.

	Added a new version scheme which is different from the version string.

	Added Tablelist 3.0.

	Added BWidgets 1.6.

	Uninstall is now specified on a per-theme basis.  The panes of the
	uninstall can be specified just like an install.

	Changed the way platforms are named.  Many more platforms will be
	added to InstallBase shortly.

	Moved conditions into a subdirectory.  Each condition is defined
	as a separate script file.  This allows easy addition of user-
	defined conditions.

	Added balloons to projects to show last built and last saved.

	Added new progress bar code to allow for a lot more flexibility.
	This will eventually be put into install themes.

	Moved all preferences and options into trees.

	InstallBase now looks more like an XP application on XP.

2003-01-31  Damon J. Courtney <damon@unreality.com>

    o lib/build.tcl
    	Removed some debugging code.

	Windows builds now build with a Tcl-only version of TclKit.  This
	saves us from loading Tk, which we don't need during a build.

    o lib/common.tcl
    	Re-wrote handling of progress during wrapping until TclKit can
	support on-the-fly compression.

    o lib/install.tcl
    	Unpack no longer builds its own binary, it simply uses the TclKit
	that's already there.

    o lib/utils.tcl
    	Added build time to log output after a build completes.

	When previewing a window with a progress bar, the progress bar
	updates in an infinite loop.

    o lib/windows.tcl
	Added some new keyboard shortcuts for several functions.

	Re-wrote the project preferences window to be more extensible in
	a tree.

2003-01-27  Damon J. Courtney <damon@unreality.com>

    o installbase
    	Removed checks for external version of wish.

    o Themes/Classic_Wizard/main.tcl
    	Instead of withdrawing the root window, we hide it off screen.
	This allows us to make windows transient to the root window.

    o Themes/Classic_Wizard/text.tcl
    	Added text for the readme buttons.

    o Themes/Classic_Wizard/utils.tcl
    	Made all windows transient to .

    o lib/cmdline.tcl
    	Grab the last argument as the filename.

    o lib/common.tcl
    	Added a lot of code for the new TclKit changes.

    o lib/install.tcl
    	Added a lot of code for the new TclKit changes.

    o lib/trees.tcl
    	Added file groups for dragging and dropping new file groups.

    o lib/uninstall.tcl
    	Added a -Y option to uninstall to run without prompting the user.

	Added a -S option to silently uninstall with no windows.

    o lib/unpack.tcl
    	Moved everything to TclKit.

	Added some support for rollbacks.  Not complete yet.

    o lib/utils.tcl
    	Moved everything to TclKit.

    o lib/windows.tcl
    	Added some progress bars that are likely to change shortly.

2002-12-05  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    o lib/main.tcl
    	Removed all functionality from this file and moved it to lib/main.tcl.

    o Binaries/Windows/freewrap.exe
    	Added a new freeWrap binary to fix a bug where files built with
	freewrap were coming out too large due to no files being removed.

    o lib/utils.tcl
    	SetupPlatformBinaries checks to see if the freewrap we are using
	is newer than the freewish.  If it is, it replaces freewish.

2002-11-22  Damon J. Courtney <damon@unreality.com>

    o lib/bwidget.tcl
    	We don't do all the BWidget setup if there are no image files.

    o lib/trees.tcl
    	Clear the selection in each tree before deleting everything.

    o lib/uninstall.tcl
    	Wait on the uninstall window.

2002-11-20  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/utils.tcl
    o Themes/Classic_Wizard/windows.tcl
    	Double-clicking a custom component will select it now.

    o lib/bwidget.tcl
    	If we've included any BWidgets in our install, we need to
	unpack all of the image files that we stored as well.

    o lib/uninstall.tcl
    	Added a '-S' option to the uninstall to silently uninstall
	without any message or windows.

    o lib/utils.tcl
    	If we're storing BWidget files, store the entire BWidget image
	library with it.

2002-11-20  Damon J. Courtney <damon@unreality.com>

    o lib/bwidget.tcl
    	Added more default commands to simulate some BWidget functionality.

    o lib/common.tcl
    	Be sure to delete the install.log itself when cleaning up a
	cancelled install.

    o lib/utils.tcl
    	Added a new option to allow inclusion of BWidget widget files
	directly into an install theme.  This removes the custom widget
	files included in the Classic Wizard theme in favor of the true
	BWidget files themselves.

    o Themes/Classic_Wizard/windows.tcl
    	Added a borderwidth back to check boxes in the custom setup
	pane.  They weren't visible on a white background under UNIX.

2002-11-20  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/windows.tcl
    	Made "yes" the default answer in the popup window.

    o lib/uninstall.tcl
    	Made "yes" the default answer in the popup window.

    o lib/unpack.tcl
    	Re-ordered the final events of the unpack.  InstallBase
	would sometimes progress forward before unpack had written
	out the install log or finished its business.  This would
	cause the uninstall and KDE / Gnome dektop icons not to
	get made in most cases.

	Fixed a bug that would cause KDE and Gnome desktop icons
	(or any component for that matter) not to appear.

2002-11-20  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    o lib/bwidget.tcl
    o lib/cmdline.tcl
    o lib/splash.tcl
    o lib/utils.tcl
    	Fixed a number of minor problems that would cause errors
	during command-line builds.

2002-11-19  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
	Cleaned up some incompatibilities with Tcl 8.3.  I'm not
	quite ready to abandon 8.3 support.

	Fixed a bug in non-Windows platforms concerning testing
	with an available console.

2002-11-19  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
	Added auto-updating file groups.  Each file group can now be
	assigned a directory to check for file changes.  When the
	auto-update is run, InstallBase will check for new and deleted
	files and update the file group accordingly.

	Added an option to run auto-update upon loading a project.

    	Moved the load order around a little.

	If InstallBase cannot find a suitable platform binary, it now asks
	the user what platform they want to use.

    o Themes/Classic_Wizard/utils.tcl
    	Added a command to register file groups and components when selecting
	a setup type.  This gives us a running list of actively selected
	file groups and components for later use.

    o lib/common.tcl
    	Moved several commands into the global namespace and made their
	names match their equivalent TclX command.

    o lib/components.tcl
    o lib/install.tcl
    	Added 'External Program' install component to execute external
	programs during installation.

    o lib/new.tcl
    	Store the current theme version in a new install.  This will stop
	InstallBase from thinking a new project's theme has changed.

    o lib/trees.tcl
    	Added autodir and autodirrecurse as variables to file groups.

	Fixed a bug where deleting files didn't decrement the size of the
	file group it was in.

	Added an entry to the right-click file menu to 'Explore' if the
	file group has an associated auto-update directory.  The file
	explorer will start in this directory.

    o lib/utils.tcl
    	Fixed a bug where some Solaris systems would sometime not
	calculate the version number properly, and InstallBase would
	think the user's platform binary didn't exist.

	Added a command to check for platform and prompt the user if
	no platform binary could be found.

	Added a command to run auto-update file group checks.

    o lib/utils.tcl
    o lib/windows.tcl
	Changed the options on the input window when adding new file
	groups.  If the user has selected to be prompted when a new
	file group is automatically created, they now get more options
	than just the install directory.

2002-11-03  Damon J. Courtney <damon@unreality.com>

    o lib/install.tcl
    	Don't wrap applications with encryption.  This was causing a bug
	on installed Tcl files.  They were encrypted as they were laid
	down and they shouldn't have been.

    o lib/windows.tcl
    	Added a checkbox for auto-updating file lists, but they haven't
	been implemented yet.

2002-10-25  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/install.cfg
    	Added an option to display file groups in the custom setup pane.

	Added tree.tcl as a file to handle tree widgets.

    o Themes/Classic_Wizard/listbox.tcl
    	Removed the BWidget headers, leaving on the listbox commands.

    o Themes/Classic_Wizard/listbox.tcl
    o Themes/Classic_Wizard/windows.tcl
    	Re-wrote the way component and file group checks are handled in
	the custom setup pane.

	Selecting components and file groups will now properly update the
	size required field based on the selection.  Previously, if the
	same file group existed in two different components, and both
	components were checked, the size would reflect two copies of the
	file group.

	Added a Finish button to the view readme window.

    o lib/common.tcl
    	Added an option to display the console while installing under
	Windows.

	Fixed a bug where InstallBase would try to cleanup an install
	that it hadn't even started installing.

    o lib/help.tcl
    	Added some commands to handle images in help documentation.

	Added a command to handle the HTML title tag and adjust the
	title of the help window accordingly.


    o lib/install.tcl
    	Changed the way components and file groups in a custom setup
	are recognized and installed.

	Fixed a bug where if a file group were selected more than once,
	files would be installed more than once.  Now, files only
	install once regardless of how many times a particular file
	group is selected.

	Removed blank.zip from InstallBase.  With the new ::freewrap::wrap
	command, it is superfluous.  This will decrease the size of all
	installs by 100k.

	Cleaned up all the code that used blank.zip.

    o lib/utils.tcl
    	Added IncludeBWidgetHeaders proc to determine if the install
	we're building needs some standard BWidget header files.  This
	makes including BWidgets in installs really easy by simply
	copying the file containing the widget you want.

	Fixed a bug where components and file groups were being ordered
	incorrectly in an install.

    o lib/windows.tcl
    	Added a menu option under the Help menu to go right to the tutorial.

	Added an option under Windows to show the Tcl console during
	installation for debugging purposes.

2002-10-21  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    o lib/components.tcl
    o lib/install.tcl
    o lib/uninstall.tcl
    	Added an option to forcefully uninstall a directory when adding
	a Directory Uninstall Component.

    o lib/utils.tcl
    	Made the build log window auto-scroll as new entries are added.

	The build log window doesn't clear itself with every build, only
	when a project is closed.

	Increased the default dimensions of the build log window.

2002-10-18  Damon J. Courtney <damon@unreality.com>

    o Binaries/Windows/freewrap.exe
	Fixed a bug that would cause incorrect CRCs on stored files.

    o lib/new.tcl
    	Pick a default project name when creating a new project.

	The current platform is automatically selected when creating a
	new project.

    o lib/utils.tcl
    o lib/windows.tcl
	Added a new option to only repack the files InstallBase uses for
	its installation instead of always rebuilding the entire install.
	This makes for much faster subsequent builds when all the files
	in the install don't need to be re-compressed.  Very useful for
	testing install changes.

2002-10-17  Damon J. Courtney <damon@unreality.com>

    o lib/help.tcl
    	If a help browser is not available on the current platform, notify
	the user and tell them to choose a web browser.

2002-10-17  Damon J. Courtney <damon@unreality.com>

    o lib/windows.tcl
    o lib/help.tcl
    	Added the option to specify the web browser to use when browsing
	help files.  The default, 'Internal Browser', will use InstallBase's
	internal browser.

    o lib/common.tcl
    	Fixed some bugs in uninstalling directories.

    o lib/utils.tcl
    	Fixed a bug that would cause errors while loading a project if
	no .installbaserc file existed.

    o lib/help/VirtualDirectories.html
    o lib/help/VirtualText.html
    	Finished up the last of making the help files generic and easily
	readable by any web browser.

2002-10-15  Damon J. Courtney <damon@unreality.com>

    o lib/editor.tcl
    	Cleaned up the editor's look a little.  Centered upon creation.

    o lib/trees.tcl
    	Changed a lot of the selection, check and uncheck code in the
	Component and Setup Type trees.

	A double-click now checks and unchecks a selected node.

	Added 'Check' and 'Uncheck' options to the right-click menu
	under the Component and Setup Type trees that will check and
	uncheck a range of nodes at once.

	Added selection commands to the right-click menus for the
	Component and Setup Type menus.

    o lib/utils.tcl
    	Fixed a bug that was removing the last character of a string
	in the editor.

    o lib/windows.tcl
    	Added a bunch of menu options for the Component and Setup Type menus.

2002-10-14  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Added option to prompt for directories when adding new file groups.

	Require BWidget 1.4.2 (which doesn't really exist, it's ours).

    o Binaries/Windows/freewrap.exe
    	Added a new freeWrap binary for Windows that fixes a bug that would
	occur when adding shortcuts with foreign characters in the path.

	Added some new Windows commands which will be used later.

    o Theme/Classic_Wizard/install.cfg
    	Added a new property to some of the panes to specify which buttons
	to be displayed in the pane.

    o Themes/Classic_Wizard/install.cfg
    o Themes/Classic_Wizard/text.tcl
	Added a new text field for each button in the panes.

    o Themes/Classic_Wizard/windows.tcl
    	Removed specific options to NavButtons commands throughout.
	These are now specified through the pane options.

    o lib/common.tcl
    	NavButtons now checks for the Buttons property for a window.

	Windows registry keys are now logged with their values as well.
	
	When uninstalling a Windows registry key, the value will be removed,
	and if the key is empty, it will be removed as well.

    o lib/components.tcl
    	Added an option to Wrapped Applications to remove InstallBase
	components from the wrapped application.

	Added the ability to uninstall a specific value of a Windows
	registry key.

    o lib/install.tcl
    	Fixed a bug where Windows XP installs were failing trying to
	obtain user information during initialization.

    o lib/trees.tcl
    	Added 'Add as Wrapped Application' option to File Group menu.

    o lib/uninstall.tcl
    	Added a specific command for each component to be uninstalled.
	This is now used as a common command during uninstallation and
	installation cleanup.

    o lib/utils.tcl
    	Added option to prompt for directories when adding new file groups.

    o lib/windows.tcl
    	Made the project preferences frame a single procedure to be called
	in several places.

    o lib/BWidget/tree.tcl
    	Fixed a bug in tree selection that was created by Tcl 8.4 somehow.

2002-10-09  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Added option to cleanup a cancelled install.

    o Themes/Classic_Wizard/utils.tcl
    	When an install is cancelled, we need to call ::MPI::CancelInstall
	to make it official.

    o Theme/Classic_Wizard/windows.tcl
    	Added new virtual text for the User Information pane in the
	Classic Wizard: <UserName>, <UserCompany> and <UserSerial>.

    o lib/common.tcl
    	Added functions to cleanup a cancelled install.

	Changed the way DirIsWritable works slightly.  Should give
	more accurate results on Windows.

	Added <Temp> as a virtual directory to use InstallBase's temporary
	directory during installation.

    o lib/help.tcl
    	Help can be called with a window and tab.

    o lib/install.tcl
    	Added some code to setup default user information under Windows.

    o lib/trees.tcl
    	Added some catches due to some erroneous errors under 8.4.

    o lib/utils.tcl
    	Fixed a bug where building main.tcl only would cause InstallBase
	to think it was still building when it wasn't.

	Added a check to see if a build was in progress before closing
	a project.

    o lib/windows.tcl
    	Cleaned up transience on all of the windows in the builder.
	There were some inconsistencies with Tcl 8.4.

	The delete key now deletes install components.

2002-09-27  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Moved the InstallBase theme into the preferences array.

    o lib/components.tcl
    	Added buttons to move components in the Install Components list.


    o lib/convert.tcl
    	If a version doesn't exist for a particular install theme, we'll
	assume it's a user-saved install theme and not attempt to convert
	it.

    o lib/utils.tcl
    	Fixed a bug where the order of install panes wasn't respected
	during installation.

	Fixed a bug where the order of install panes wasn't saved with
	the project.

	Re-wrote user preference routines to read and write the preferences
	array.

    o lib/windows.tcl
    	Fixed a bug where the "Install Project Wizard" could be renamed.

    	Added buttons to move components in the Install Components list.

    o lib/help/
    	Updated help documents to be more generic so that they can
	potentially work in any web browser.

    o lib/help/About.tcl
    	Added credits to the about help.

    o lib/Tablelist
    	Upgraded to Tablelist 2.8.

2002-09-23  Damon J. Courtney <damon@unreality.com>

    o lib/new.tcl
    	Fixed a bug that was causing new projects to fail.

    o lib/trees.tcl
    	Fixed a bug that would cause new file group additions to fail.

    o lib/utils.tcl
    	Fixed a bug that would cause several things to fail if Windows
	was not a platform in an install.

	Added a preference to select the file explorer used in the file
	group tab.

    o lib/windows.tcl
    	Added a preferences window under the "File" menu.

	Moved InstallBase theme selection into the preferences window.

2002-09-12  Damon J. Courtney <damon@unreality.com>
    o lib/convert.tcl
    	Added a proc to determine if the theme in use has a new version
	and convert it if necessary.

2002-08-20  Damon J. Courtney <damon@unreality.com>

    o lib/convert.tcl
    	Added a prompt to let the user know that their project had been
	converted.

    o lib/trees.tcl
    	Added a 1 second pause before editing entries in lists and trees.
	It can be a pain to try and double click an actively editing
	entry sometimes.

    o lib/utils.tcl
    	Added a prompt to ask the user if they want to restore the install
	theme if the project was converted during load.

2002-08-20  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    o Themes/Classic_Wizard/install.cfg
    o Themes/Classic_Wizard/utils.tcl
    	Removed the Program Executable option from the Classic Wizard
	theme and made it a standard variable for each platform.

	Added some help to some of the properties.

    o lib/common.tcl
    	Turned on condition checking for install components.  It was
	curiously absent until now. 0-]

	Fixed a bug in conditions that would cause most of them to
	fail owing to the \'s put in front of ['s when doing
	SubstText.

    o lib/conditions.tcl
    	Added 'AskUser' condition that prompts the user to say yes or no.

    o lib/utils.tcl
    	Added the ability to add help balloons to properties and text
	fields in the install pane tabs.

    o lib/help
    	Updated help documentation with new features and changes.

2002-08-20  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Fixed command-line builds.  They were broken by the new splash screen.

    o Themes/Classic_Wizard/install.cfg
    o Themes/Classic_Wizard/main.tcl
    o Themes/Classic_Wizard/text.tcl
    o Themes/Classic_Wizard/windows.tcl
    	Added a new window to popup before doing anything and ask the
	user if they want to install the software.

    o lib/cmdline.tcl
    	Moved ParseCommandLineArgs to installbase.tcl

	Added CheckRunStatus to do the work of determining if we need
	to run in GUI mode or not.

    o lib/splash.tcl
    	Added version to the splash screen.

    o lib/uninstall.tcl
    	Added the option to completely delete an install even if everything
	is not empty.

    o lib/utils.tcl
    	Added the ability to retain current properties when restoring the
	theme of the install.

    o lib/help/CommandLine.html
    	Added a help file describing command-line build options.

2002-08-17  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Moved some things around.
	
	Added a splash window.

    o lib/common.tcl
    	Added a QUICK_LAUNCH Windows virtual directory.

    o lib/utils.tcl
    	Added a check in opening a project to convert the project to a
	new format if the format has been changed.

	Moved CenterWindow, Status and ClearStatus to splash.tcl

2002-08-14  Damon J. Courtney <damon@unreality.com>

    Tagged and released 1.0a3.

2002-08-14  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/utils.tcl
    	Fixed a bug in SetProgramFolder that would cause install failures
	on all but Windows platforms.

2002-08-08  Damon J. Courtney <damon@unreality.com>

    o lib/install.tcl
    	Cleaned up blank.zip handling a little.

    o lib/utils.tcl
    	Fixed a bug that would cause hang when building installs with no
	files.

2002-08-08  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Added another check for the Windows root directory in WindowsDir.

    o lib/components.tcl
    o lib/editor.tcl
    o lib/trees.tcl
    o lib/utils.tcl
    	Removed window grabs on dialogs.

    o lib/help.tcl
    	Added Include command for help files.

    o lib/help
    	Added more help files.  Added help for Virtual Text and Virtual
	Directories.

2002-08-08  Damon J. Courtney <damon@unreality.com>

    o lib/help
    	Added a lot of new help documentation.  Most of the help
	documentation is now present, though not as thorough as I would
	like in some places.

2002-08-07  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    	Updated all of the component windows to the new LNF.

    o lib/utils.tcl
    	Fixed a small but nasty little bug in GetFileList.

2002-08-07  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    o Themes/Classic_Wizard/main.tcl
    o lib/utils.tcl
    o lib/windows.tcl
    	Added a Default Program Folder option.

    o lib/common.tcl
    	Fixed a bug in setting permissions.

2002-08-07  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Cleaned up some options.

    o lib/cmdline.tcl
    	Wrote some functions to make command-line building work more
	efficiently.

	Added '-t' option to the command line to tell InstallBase to
	test the install after building it.

	Added '-p platform' option to the command line to tell InstallBase
	to build this platform.  Multiple ?-p platform? options can be
	specified to specify a list of platforms to build.

    o lib/utils.tcl
    	Added some checks to make sure certain windows exist before
	using them.  This is mostly for command-line builds where we
	have no windows.

	Re-wrote many of the list procs to use window-less functions to
	retrieve values.

2002-08-07  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    o lib/install.tcl
    	Switched InstallBase to using the new freeWrap which does not use
	the zip binary to build applications.

    o lib/components.tcl
    o lib/Icons/tkIcons.installbase
    	Added new icons for some of the component buttons.

    o lib/install.tcl
    	Fixed up all the blank extraction stuff.

    o lib/utils.tcl
    	Added different highlight colors for each theme.

2002-08-03  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
	Fixed a bug in dropping files under UNIX.

    o lib/trees.tcl
	Fixed a bug that occurs when renaming elements in the file groups/
	components window.

2002-08-02  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Added saving and loading of preferences.

    o lib/help.tcl
    	Added a home button to the help browser.
	
	Removed the tiny about window in favor of an HTML about help
	document that has yet to be written.

    o lib/trees.tcl
    	Double-clicking a file brings up its properties.

    o lib/utils.tcl
    	Fixed a bug in duplicating a project.  Now it works properly.

	Changed the ButtonBox proc to use the new themes.

	Added procs to save and load user preferences.

    o lib/widgets.tcl
    	Added a standard button widget.

    o lib/windows.tcl
    	Removed the checkboxes in the build window.  I never liked 'em anyway.

    o lib/trees.tcl
    o lib/utils.tcl
    o lib/windows.tcl
    o lib/Icons/tkIcons.crystal
    o lib/Icons/tkIcons.ikons
    o lib/Icons/tkIcons.installbase
    o lib/Icons/tkIcons.kde
    o lib/Icons/tkIcons.klassic
    o lib/Icons/tkIcons.slick
    	Added theme support throughout InstallBase using the Icons package
	developed by Adrian Davis.

2002-08-01  Damon J. Courtney <damon@unreality.com>
    o lib/components.tcl
    o lib/editor.tcl
    o lib/help.tcl
    o lib/tkIcons
    o lib/trees.tcl
    o lib/utils.tcl
    o lib/windows.tcl
    	Renamed all of the images to be standardized with the Icons package.
	This allows for greater flexibility and possibly some theme support
	in the future.

2002-07-31  Damon J. Courtney <damon@unreality.com>

    o lib/uninstall.tcl
    	Fixed the height of the progressbar in the uninstall.

2002-07-31  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Added some code to make directories cleaner when returned.

    o lib/install.tcl
    	Put the StoredName of the command file when setting freewrap info.

    o lib/tkIcons
    o lib/trees.tcl
    o lib/utils.tcl
    o lib/windows.tcl
    	InstallBase now uses Adrian Davis' Icons package.

	Updated some images to use the new system.

2002-07-27  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/windows.tcl
    	Fixed a bug whereby the status window's text was set at
	the beginning of the install, so nothing during the install
	would change the values in the text.

2002-07-23  Damon J. Courtney <damon@unreality.com>
    o installbase.tcl
    o common.tcl
    	Added PROGRAM_FILES to Windows special directories.

	Made default install dir <PROGRAM_FILES> instead of specifying
	it specifically.

    o install.tcl
    	Made SetInstallDir return \'s instead of /'s under Windows.

2002-07-23  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Fixed a bug in SubstText that would cause some text to show up
	blank on some screens.

2002-07-21  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Fixed a bug that was causing preview to fail after adding the
	pause checks to install components.

    o lib/install.tcl
    	Removed the update command from the progress update during
	installation.  This causes some infinite loop action sometimes.

2002-07-15  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Added WINDOWS, SYSTEM and SYSTEM32 to Windows special directories.

    o lib/common.tcl
    	Added pause checks during the component install phase.

	Added more checks to WindowsDir proc so that if we can't find
	certain Windows directories, we can try our best guess.

    o lib/editor.tcl
    	Hooked up the undo/redo buttons in the editor when using Tcl 8.4.

    o lib/images.tcl
    	Added transparency to some of the component icons.

    o lib/new.tcl
    	Changed to using the AllPlatforms command.

    o lib/trees.tcl
    	Fixed a bug that would break when adding new file groups under
	certain circumstances.

	Added the ability to duplicate one platform to another in the
	file group menu.

	Sizes now get updated automatically when adding files.

    o lib/unpack.tcl
    	Moved PauseCheck to common.tcl

    o lib/utils.tcl
    	Added 'AllPlatforms' command to return a list of all available
	platforms.

2002-07-05  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
    	Zero out the total size of the platforms when loading.  Their sizes
	will be reset when the files are added.

2002-07-05  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/windows.tcl
    	Moved the progressbars a little.

    o lib/common.tcl
    	Changed the way variables are substituted in SubstText and SubstDir.
	This should increase efficiency of these commands substantially.

	We now use Donal Fellows' progressbar because it has everything
	we need. 0-]

    o lib/trees.tcl
    	Parsed the giant select proc out into separate procs for each
	tree.

    o lib/utils.tcl
    	Added Georgios Petasis' patch to support tkdnd in KDE.

	Added a command to restore the windows in a project.

    o lib/windows.tcl
    	Added a "Restore Theme Windows" button.

	Added a size field in the file group tree.

2002-06-27  Damon J. Courtney <damon@unreality.com>

    o configure
    o installbase
	Fixed up the platform naming scheme.

    o installbase.tcl
    o lib/tkcheck.tcl
	Added a check for MPI.
	
2002-06-27  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Install components now updates groupBeingInstalled to reflect so.

    o lib/trees.tcl
    	Moved all the renaming code into separate procs.

	Added the ability to rename file groups, components and setup types
	in the tree.

    o lib/windows.tcl
    	Made some windows resizable.

    o lib/tkcheck.tcl
    	Added tkcheck.tcl file.  This file is placed at the top of every
	install to determine if Tk is loaded.  If it's not, we currently
	output an error message.  In the future, this will act as the switch
	for text-based installs.

2002-06-26  Damon J. Courtney <damon@unreality.com>

    Tagged and released 1.0a2

2002-06-26  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
    o lib/windows.tcl
    	Added the ability to accept default permissions.
    	
2002-06-26  Damon J. Courtney <damon@unreality.com>

    o lib/blank.zip
    	Updated blank.zip.

    o lib/common.tcl
    	Added BuildType to subst vars.

    o lib/install.tcl
    	Added execute permissions to binary install components.

2002-06-26  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
    	Fixed a bug where main.tcl would never be deleted.

2002-06-26  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
    o lib/windows.tcl
    	Added the ability to duplicate and rename projects.

2002-06-25  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
    o lib/windows.tcl
    	Added support for dynamically adding and removing platforms from an
	install.

2002-06-24  Damon J. Courtney <damon@unreality.com>

    o lib/help.tcl
    	Added a header to the top of each help file through a standard header.

	Made links show a hand pointer when passed over.

    o lib/trees.tcl
    	Fixed some menu entries in the popup of file groups that shouldn't
	be enabled.

    o lib/utils.tcl
    	If a window is already shown, we adjust the focus to jump back to it.

	Added some checks for static and dynamic binaries.

	Added some routines for keyboard shortcuts.

    o lib/windows.tcl
    	Added some help balloons throughout.

	Bound F1 to the help system in each window.

	Fixed the keyboard shortcuts for all of the tabs and windows.

2002-06-21  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    	Added checkboxes to Wrapped Application and Wrapped Script to
	automatically include them in the Program Folder.

    o lib/help.tcl
    	Fixed a bug that would cause the refresh button to fail if there
	was a space in the file name.

    o lib/utils.tcl
    	Fixed a problem with the tab not being set when a window was shown
	and the tab was already raised.  This would cause a failure in the
	help system.

	Fixed a slight miscalculation in the closing of projects when
	deleting.

	GetFileList now checks for the option to not include unused file
	groups.

    o lib/windows.tcl
    	Added the option to not include unused file groups when building
	installs.

    o lib/help/FileGroups.html
    	Added some help on virtual platforms.

    o lib/help/ProjectPreferences.html
    	Added the new unused file groups option to the help files.

2002-06-21  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    	Added a combobox to the Startup Script for Wrapped Applications.

    o lib/conditions.tcl
    o lib/install.tcl
	Fixed a bug that was causing installs to fail some KDE systems.

    	Made HasKDE and HasGnome actually set the locations of the desktops
	in the info array.

    o lib/utils.tcl
    	If the open project is deleted, it's closed first.

2002-06-19  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Re-wrote VersionWeight some to account for more versions.  Added
	development cycle to the patch level.

    o lib/components.tcl
    	Fixed a bug where separators were getting output everytime a project
	loaded.

	Changed the way each component recognizes it's being modified.  This
	is to allow for some new menu options.

    o lib/trees.tcl
    	Added some new options to the file group right-click menu:
	    'Add to Program Folder'
	    'Add to Desktop'
	    'Add Windows Shortcut'
	    'Add as Wrapped Script'

    o lib/utils.tcl
    	Added some checks to enable/disable save and close buttons in the main
	file menu if a project is open or not.

    o lib/windows.tcl
    	Added some checks to enable/disable save and close buttons in the main
	file menu if a project is open or not.

    	Added some new options to the file group right-click menu.

	Added a double-click to install components to modify them.

2002-06-18  Damon J. Courtney <damon@unreality.com>

    Tagged and released 1.0a1.

2002-06-18  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	FreeBSD doesn't need to link statically.

    o lib/common.tcl
    	Added some checks that will speed up text and directory substitutions.

	ListScroll now accounts for BWidget listboxes.

2002-06-17  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/install.cfg
    	Fixed a bug in Readme condition.

    o Themes/Classic_Wizard/utils.tcl
    	Fixed a bug in calculating space required.

    o Themes/Classic_Wizard/windows.tcl
    	Fixed a bug that would not allow the preview of certain windows.

	We now properly check the conditions of certain properties.

    o lib/common.tcl
    	Added a check to EvalCondition for empty conditions.

    o lib/components.tcl
    	Added escape bindings to the component windows.

	Converted radiobuttons to combobox in Uninstall Component.

    o lib/install.tcl
    	If we're testing, we don't want to install any files.

    o lib/trees.tcl
    	If a file group is renamed, virtual file groups handle the change
	properly.

    o lib/utils.tcl
    	Still futzing with geometry.  May end up removing it all together.

    o lib/windows.tcl
    	Fixed some problems with escape bindings in certain windows.

2002-06-17  Damon J. Courtney <damon@unreality.com>

    o lib/trees.tcl
	Added 'init_virtual_platforms' command.

	Fixed a bug in virtual platforms when adding projects.

    o lib/utils.tcl
    	Changed the way files are added to make them a lot more efficient
	when doing multiple platform adds.
    	
	Fixed a bug in 'InstallDirList' that was causing some problems.

2002-06-16  Damon J. Courtney <damon@unreality.com>

    o lib/trees.tcl
    	Added virtual file group platforms 'All Platforms' and
	'All UNIX Platforms'.

    o lib/utils.tcl
	Re-wrote the file/directory adding commands somewhat to support the
	new virtual platforms.

    o lib/windows.tcl
    	Added a <Drag> event for Windows drag and drop to move the selected
	file group with the cursor.

	Moved file information to its own window, .modifyFile.

2002-06-12  Damon J. Courtney <damon@unreality.com>
    o lib/trees.tcl
    o lib/windows.tcl
    	Added 'Select All' to file group menu.
    	Added 'Select All in this Platform' to file group menu.
    	Added 'Select All in this File Group' to file group menu.

2002-06-12  Damon J. Courtney <damon@unreality.com>

    o lib/trees.tcl
    o lib/windows.tcl
	Added a 'Set Permissions' option to the file group menu to allow
	setting of permissions on groups of files.

2002-06-11  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Added 'SetPermissions' command to set the permissions of a file
	or directory.

    o lib/install.tcl
    o lib/trees.tcl
    o lib/unpack.tcl
    	Some changes for adding permissions.

    o lib/utils.tcl
    	Changed the text of methods in file groups.

    o lib/windows.tcl
    	Added the permissions windows.

	Changed the method radiobuttons to a combobox in file groups.

2002-06-11  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Added a 'CommonInit' proc that sets up certain variables.

	Added a 'SubstDir' command to replace SubstText in most placed.

    o lib/install.tcl
    	Replaced SubstText with SubstDir where needed.

    o lib/unpack.tcl
    	Since SubstDir now checks for other file groups, we don't need to
	specifically check during unpack.

    o lib/utils.tcl
    	The theme file containing text is now ouput without shrinking.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Added 'LogRegistry' command to log Windows registry changes.

    o lib/components.tcl
    	Added new Windows registry components.

    o lib/conditions.tcl
    	Added new 'WindowsFileTypeExists' condition.

	Added new 'WindowsFileExtensionExists' condition.

    o lib/install.tcl
    	Added new Windows registry components.

    o lib/uninstall.tcl
    	Added conventions for uninstalling Windows registry entries.

    o lib/unpack.tcl
    	Fixed a possible divide-by-zero bug.

    o lib/windows.tcl
    	Made the platform window resizable.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    o lib/images.tcl
    	Added some new icons for the install components.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    	Added 'Duplicate' option to install components.

	Allowed multiple selection in install components.

    o lib/utils.tcl
    o lib/windows.tcl
    	Added an option to testing installs that allows for keeping the
	temporary directory for debugging.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    	Changed the look of the separators between component buttons.

	Added buttons for some new Windows registry components that aren't
	available yet.

    o lib/help.tcl
    	Added wheel mouse support to the help browser.

    o lib/install.tcl
    	Renamed 'AddShortcut' to 'AddWindowsShortcut'.

	Added support in 'CreateDesktopIcon' to create Gnome and KDE icons.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/windows.tcl
    	Added wheel mouse support to the new scrollable frame in the build
	window.

	Removed some superfluous old code.

	Moved default install type from the themes to the platform options.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/utils.tcl
    o lib/windows.tcl
    	Window geometry for . and .build are saved with the project.
    	
2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/windows.tcl
    	Made the main build window a scrollable frame contained within a
	scrolled window.  This will allow more configurability as the
	window gets larger with more platforms.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    o lib/install.tcl
	Added 'GnomeShortcut' and 'KDEShortcut' components.

	Added base support for adding icons in Gnome and KDE.  This is
	tested and works but definitely needs more work before going live.

2002-06-10  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Moved InstallBase's libraries to the front of the auto path.  This
	will make sure we're loading our libraries instead of what may be
	an older, local copy.

    o lib/components.tcl
    	Added conditions to all the components.

	Changed most of the entry boxes in component adds to comboboxes.

    o lib/help.tcl
    	Added a simple about box.

    o lib/utils.tcl
    	Changed the way components are loaded from a project.

	Added a 'DirListComboBox' command.

    o lib/windows.tcl
    	Changed a COMBOBOX to a DirListComboBox.

2002-06-09  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    	Added 'HomeDir' command which returns the home directory of a user
	under UNIX.

    o lib/conditions.tcl
    	Added 'HasGnomeDesktop' condition.

	Added 'HasKDEDesktop' condition.

    o lib/install.tcl
    	Added some default directories to the info array during install.

    o lib/utils.tcl
    	Added new conditions to the condition list.

	Added new directories to the directory list.

2002-06-09  Damon J. Courtney <damon@unreality.com>
    o lib/help.tcl
    o lib/images.tcl
    	Added some images for the help browser navigation buttons.
	
	Added a refresh button to the help browser.

    o lib/windows.tcl
    	Removed the checkboxes for 'Windows Aware' and 'Smart Setup Types'.

2002-06-08  Damon J. Courtney <damon@unreality.com>

    o lib/windows.tcl
    	Added an escape binding to cancel each window throughout the
	install builder.

2002-06-07  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
	Removed WindowsAware and SmartSetupTypes options.

    o Themes/Classic_Wizard/install.cfg
	Added default conditions for some windows and properties.

    o Themes/Classic_Wizard/main.tcl
	Removed references to WindowsAware and SmartSetupTypes.

    o Themes/Classic_Wizard/utils.tcl
	Added 'ShowFirstWindow' command which will accurately determine the
	first window to be displayed when the install is started.

    o lib/conditions.tcl
	File added to InstallBase.  This file will contain commands specific
	to determining conditions during installation.

    o lib/common.tcl
	Added 'EvalCondition' command to evaluate a given condition and return
	a 1 or 0.

	Added a check in "Window show" to check a given window's condition
	before displaying it.

    o lib/utils.tcl
	Removed remaining references to WindowsAware and SmartSetupTypes.

	Added conditions.tcl to the install build.

	Made the Properties tab in Install Panes a scrollable frame to
	accomodate for increasingly long property lists.

	Added 'ConditionList' command to return a list of possible conditons.
	Currently empty.

	Added 'ConditionComboBox' command to give a default means of displaying
	a combobox of conditions.

2002-06-01  Damon J. Courtney <damon@unreality.com>

    o installbase.tcl
    	Changed the way default options are set.  Now, if we add an option
	and an old project doesn't have it, it will receive the default
	value the next time it is loaded.

	Added the AutoFileGroups project preference.

    o lib/new.tcl
    	Force the loading of the default options when creating a new project.

    o lib/utils.tcl
    	Added the ability to create new file groups when adding directory
	structures.

	Added some commands to convert all Windows filenames to their longname
	equivalent.  It just looks nicer.

    o lib/windows.tcl
    	Added the AutoFileGroups option.

2002-06-01  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/text.tcl
    o lib/windows.tcl
	In anticipation of its inevitable release, MPI has been renamed to
	InstallBase MPI.

2002-05-31  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
    o Themes/Classic_Wizard/install.cfg
    	Moved Program Executable and Readme into the theme instead of
	platform options.

    o Themes/Classic_Wizard/utils.tcl
    o Themes/Classic_Wizard/windows.tcl
    	When setting the program folder, we need to set the directory as well.

    o lib/components.tcl
    	When setting the script in a wrapped binary, we want to set the
	scriptname exactly.  If we're on Windows, this means getting the
	true longname of the file.

	Added proc to add a shortcut.

    o lib/install.tcl
    	Re-wrote AddShortcut to conform to the new method.

    o lib/new.tcl
    	Fixed a problem that occurred if there was only one platform.

    o lib/unpack.tcl
    	Fixed a bug where wrapped applications were progressing incorrectly.

	Fixed a bug where if a file existed, we were incrementing the wrong
	file size.  This caused a progressbar overflow in some cases.

    o lib/utils.tcl
    	Fixed some problems with background building.

	Added a check to see if a project is modified before testing.

	Added RestoreTheme to restore the original theme of a project.

	Added SaveTheme to save the current install as a new theme.

2002-05-28  Damon J. Courtney <damon@unreality.com>

    o lib/components.tcl
    o lib/install.tcl
    	Added "Uninstall Component" component.

    o lib/trees.tcl
    	Added the ability to delete file groups, components and setup types.

    o lib/windows.tcl
    	Added some new buttons for the delete functions.

2002-05-28  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/windows.tcl
    	Moved the text for the background window over.

    o lib/common.tcl
    	Moved CreateDir and CreateDirTree to common.tcl.

    o lib/components.tcl
    	Added return key shortcuts for each component.
	
	Added AddFolder.

    o lib/install.tcl
    	Had to re-write some extraction code owing to the fact that MPI's
	files are now stored under a directory instead of in the root
	directory.

    o lib/trees.tcl
    	Almost done adding delete routines for Setup Types and Components.

	Fixed a bug where each time a project was loaded, the size of the
	file groups would compound.

    o lib/unpack.tcl
    	If a file is zero-byte, we don't need to try and copy it.  This would
	cause a hang during unpack.

    o lib/utils.tcl
    	Install builds are now a backgrounded process.  This will allow the
	user to continue to work even during a build.  Still need to add
	some checks though.

	MPI's install files no longer get zipped in after the initial install
	file is created.  This causes a much longer build time on installs
	of very large sizes.

	Fixed some bugs that cropped up when MPI was placed in a directory
	structure that had spaces in the name.

2002-05-23  Damon J. Courtney <damon@unreality.com>
    o lib/common.tcl
    	Moved the creation of the install log to the exit routine.  This
	ensures that the install log will always contain anything added as
	it's the last thing to happen before exit.

	Added 'VersionWeight' command which, when given a version number,
	will determine a weight and return it.  This is used to compare
	versions during installation.  1.4b1 is higher than 1.4a4, etc...

2002-05-23  Damon J. Courtney <damon@unreality.com>
    o lib/utils.tcl
	Re-wrote Filename procedure to be compatible with 8.3

    o lib/unpack.tcl
	Added a run log file.  Something on Windows 2000 was causing longer
	installs to lock-up for some reason.  Not sure why, but this seems
	to fix it.  Gotta' love Windows.

	Removed some safety checks to speed up install time.	

2002-05-06  Damon J. Courtney <damon@unreality.com>

    o lib/windows.tcl
    	Switched from mclistbox to Csaba Nemethi's Tablelist widget.  It's
	bigger but a lot nicer-looking and more full-featured.

2002-04-26  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
    	Added a section for install components on the build list.

    o lib/common.tcl
    	Added 'InstallComponents' proc to do the installation of components.
	Used by both the installer and the unpacker.

    o lib/components.tcl
    	Added a whole bunch of stuff and made components pretty-well work.

    o lib/install.tcl
    o lib/unpack.tcl
    	Made the installer and unpacker actually conform to the new way of
	doing components.

2002-04-23  Damon J. Courtney <damon@unreality.com>

    o lib/mpi.tcl
    	Removed the code for a Tcl-specific window.  It's now all done
	through a generic "component" interface.

    o lib/utils.tcl
    o lib/windows.tcl
      Removed a lot of code that was dealing with the Tcl-specific options
      tab.

2002-04-13  Damon J. Courtney <damon@unreality.com>

    o lib/trees.tcl
    o lib/utils.tcl
    o lib/windows.tcl
    	Hooked up the explorer button under Windows.  Since we now have
	drag-n-drop support, we just use Windows Explorer.

2002-04-13  Damon J. Courtney <damon@unreality.com>

    o lib/unpack.tcl
    	Fixed a bug where InstallDir wasn't being created on an install
	where we wrap the entire project.

    o lib/utils.tcl
    	Fixed some crazy bug that doesn't happen under Tcl 8.3 but does
	happen under Tcl 8.4.  When building an install, if we rename
	the file before we wrap the other install files into it, we get
	a "file exists" error every other build when trying to rename
	the file.

    o lib/utils.tcl
    o lib/windows.tcl
    	Removed the preferences window in favor of doing preferences in
	each project.  I've always hated the way preferences are defined
	globally.  Some projects are different than others.

2002-04-10  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
    	Added the platform binaries directory to the auto_path.

    o lib/help.tcl
    	Added the beginnings of a help system using a mini-browser built from
	TkHtml.

    o lib/utils.tcl
    	Added a read_file proc.

    o lib/windows.tcl
    	Added initial help topics to the build windows.

2002-04-09  Damon J. Courtney <damon@unreality.com>

    o lib/unpack.tcl
    	All directories are created in path order.  This ensures we never
	accidentally delete a subdirectory we didn't create.

    o lib/uninstall.tcl
    	Cleaned up the display of error details.

2002-04-09  Damon J. Courtney <damon@unreality.com>

    o lib/common.tcl
    o lib/unpack.tcl
        Moved the info commands into common.tcl.

	Added some functions to cleanup temporary MPI directories left on a
	system.

    o lib/windows.tcl
    	Added keyboard shortcuts to the Platform Options window.

2002-04-08  Damon J. Courtney <damon@unreality.com>

    o lib/windows.tcl
    o lib/install.tcl
    o lib/unpack.tcl
    	Added the ability to wrap multiple Tcl programs during install.

2002-04-08  Damon J. Courtney <damon@unreality.com>

    o lib/trees.tcl
    	Moved modify trees into windows.tcl

    o lib/utils.tcl
    	Added auto-pack option to ButtonBox.

	Added ToggleTclTabs function.

    o lib/windows.tcl
	Added a new Tcl/Tk tab to platform options.

    	Cleaned up Tcl/Tk options.  Added a new mclistbox for wrapping
	scripts.

	Checking an app as Tcl or not toggles the Tcl tab.

2002-04-08  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
    o lib/windows.tcl
    	Changed the way build windows and headers are defined.
   
2002-04-08  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
    	Added options for Tcl/Tk programs.

    o lib/common.tcl
    	Moved GetZip into common.tcl.
	Added AddToZip and DeleteFromZip commands.

    o lib/install.tcl
    	Added functions to do Tcl-specific install options.

    o lib/unpack.tcl
    	Added functions to do Tcl-specific install options.

    o lib/windows.tcl
    	Added options for Tcl/Tk programs.

2002-02-09  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
    	Added a check to see if the MPI itself is wrapped.

    o lib/install.tcl
    	Added the check in InstallFiles to see if the file we're installing
	has a newer version.

    o lib/trees.tcl
    	Added the option of overwriting files if they have a newer version.

2002-02-09  Damon J. Courtney <damon@unreality.com>

    o lib/install.tcl
    	Added a versioning system.  If enabled, we store the product version
	with each filename so that we can update later based on versions.

2002-02-08  Damon J. Courtney <damon@unreality.com>

    o lib/trees.tcl
    	Added popup menus for all of the component trees.

    o lib/windows.tcl
    	Added popup menus throughout.

	Added keyboard shortcuts for some entry fields.

2002-02-08  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/
    	Added main.tcl
	Added utils.tcl
	Removed install.tcl

    o Themes/Classic_Wizard/theme.cfg
    	Added main.tcl
	Added utils.tcl
	Removed install.tcl

	Added titles to window definitions.

    o Themes/Classic_Wizard/windows.tcl
    	Changed all the images to the new SetImage method.

	Added a default program folder option.

	Removed . procedures and added .main.

    o lib/install.tcl
    	Removed Exit and Toplevel commands to the themes themselves.

	Added SetImage and ImageExists procs.

	Added CreateDesktopIcon proc.

    o lib/utils.tcl
    	Changed the way images are stored.  We now store images that are
	needed only.

	Added GetImageList proc.

2002-02-07  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
    	Set Icon and Image as full pathnames, not relative.
	
	Added option UseVersions to enable the MPI version system.

	Removed SetDefaultPaneProperties and moved it into each theme.

	Removed the "Main Window" tab.

    o Themes/Classic_Wizard/install.tcl
    	We no longer show . as the main window.

    o Themes/Classic_Wizard/text.tcl
    	Added text field for .main window.

    o Themes/Classic_Wizard/theme.cfg
    	Added window .main.

	Added Icon and Image properties to each window as needed.

    o Themes/Classic_Wizard/windows.tcl
    	Removed . as a window.

	Renamed . to .main.

    o lib/utils.tcl
    	Removed . from pane list operations.

	Added the ability to disable previewing of a window.

	Added a check for a default.tcl file in each theme.  If it exists,
	it's loaded once when a new project is created.  This allows us to
	set default pane properties and things within the theme.

    o lib/windows.tcl
    	Removed the "Main Window" tab of visual properties.

	Moved Icon and Image to "Application Information" tab.

	Added Feature, 'Enable MPI Version System'.

2002-02-06  Damon J. Courtney <damon@unreality.com>

    o Themes/Classic_Wizard/windows.tcl
    	Added a cancel button to the Copy Files window.

    o lib/install.tcl
    	Added a routine to check the writability of a directory.
	[file writable] doesn't quite work on directories under Windows.

	Fixed up the progressbar a little.  It wasn't handling different
	widths properly.

    o lib/utils.tcl
    	When storing pane lists, we always want to store .

    o lib/windows.tcl
    	Commented out the 'Total Size' entry until I figure out what I want
	to do with it.

2002-02-05  Damon J. Courtney <damon@unreality.com>

    o src/windows.tcl
	Added in functions to minimize and restore open windows when the
	main window is restored or minimized.

2002-02-04  Damon J. Courtney <damon@unreality.com>

    o mpi.tcl
	Added ProgramName, BuildType and ProgramReadme to the default
	platforminfo.

    o Themes/Classic_Wizard/text.tcl
    	Added text fields for the checkbuttons on the Setup Complete screen.

    o Themes/Classic_Wizard/theme.cfg
    	Disabled some windows by default.  We now only store windows in the
	install that are necessary, so we want to disable as many as we
	can by default.

	Added text fields for the checkbuttons in Setup Complete.

    o Themes/Classic_Wizard/windows.tcl
	Added a new button in Setup Complete to add a desktop icon.

	Added text fields for the checkbuttons in Setup Complete.

    o lib/editor.tcl
    	Renamed Image command to GetImage where needed.

    o lib/images.tcl
    	Renamed Image command to GetImage.

    o lib/install.tcl
    	Added 'CheckInstallDir' proc to determine if the installation directory
	given is valid (ie: writable).

    o lib/new.tcl
    	Added a user.tcl file in each install directory where user procs can
	be stored for use within the install.  This file will not be overwritten
	if the default theme is restored to the install.

    o lib/utils.tcl
    	We now only store window procs based on which windows are enabled in
	the install.  This means installs are somewhat smaller if the window
	list is smaller.

	Added 'PaneList' proc to return a list of the current panes.

	Added the ability to choose either a static or dynamic build when
	building an install.

	Made more windows transient to the proper window instead of just .

    o lib/widgets.tcl
    	Added a 'SCROLLBAR' proc to handle default scrollbars.

    o lib/windows.tcl
    	Added ProgramReadme and ProgramName to the Platform Options.

	Added more dynamic help throughout the screens.

	Added option to link libX11 and libc statically or dynamically.

2002-01-30  Damon J. Courtney <damon@unreality.com>
    o lib/trees.tcl
    	Finished the modify commands.  FileGroups, Components and SetupTypes
	can now be renamed successfully.

    o lib/windows.tcl
    	Fixed a bug where the delete button was calling the wrong command.

	Fixed bug where windows deleted weren't unsetting conf(window).

    o lib/install.tcl
    	SubstText can now subst for Windows special directories.

    o lib/utils.tcl
    	If the platform is Windows, spit out the Windows special directory
	list when the install is built.

	InstallDir is now output properly with SubstText.

	Fixed bug where Test run wouldn't work due to the wrong Executable.

	Made all the file popups pop-up with the appropriate parent.

2002-01-29  Damon J. Courtney <damon@unreality.com>
    o configure
    	Added a configure script to find the best possible wish and create
	a script file to run MPI.

    o mpi.tcl
    	Added SetDefaultPlatformOptions command.
	Removed .build from the start-up window generation.

    o lib/theme.cfg
    	Changed SplashImage to type image.

    o lib/new.tcl
    	Removed the Executable and InstallDir options to a new install.

    o lib/trees.tcl
    	Added some more Modified commands.

    o lib/utils.tcl
	Use InstallDir and Executable based on platforms instead of just a
	universal one.

	Changed all the tk_* commands to mpi_* commands.  This gives us a
	way to set default values and options for each command.

	We now destroy .build at each Close.  This is so it can be re-created
	with platform-specific information with each new project.

    o lib/windows.tcl
    	Removed Executable and InstallDir options.

	Added new build section for Platform Options.

    o lib/widgets.tcl
	Added widgets.tcl to define MPI-specific widget commands.

2001-03-14  Damon J. Courtney <damon@unreality.com>

    This entry is mostly just for posterity.  I didn't start keeping
    a change log until much later on in the development of InstallBase,
    but this is, in fact, the date that it all started on.  The first
    log entry would not come until almost a year later.
